Protocol Goedel.Cryptography.Container ContainerData ContainerData
    Using Goedel.Cryptography.Jose 

	Description 
		|Classes that describe Mail applications.

	Structure ContainerFrame

		Description
			|Describes a container frame
		Struct ContainerHeader Header
			Description
				|The frame header

		Binary Payload
			Description
				|The frame payload



	Structure ContainerHeader
		Description
			|Describes a container header

		Integer Index
			Description
				|The record index within the file. This MUST be unique and 
				|satisfy any additional requirements determined by the ContainerType.

		String ContainerType
			Description
				|Specifies the container type for the following records.

		Boolean IsMeta
			Description
				|If true, the current frame is a meta frame and does not contain a payload.
			Description
				|Note: Meta frames MAY be present in any container. Applications MUST
				|accept containers that contain meta frames at any position in the file.
				|Applications MUST NOT interpret a meta frame as a data frame with an enpty payload.

		// Frame position pointers
		Integer TreePosition
			Description
				|Position of the frame containing the apex of the preceding sub-tree.
		Integer IndexPosition
			Description
				|Specifies the position in the file at which the last index entry is
				|to be found

		Integer ExchangePosition
			Description
				|Specifies the position in the file at which the key exchange data is
				|to be found
		Struct ContainerIndex ContainerIndex
			Description
				|An index of records in the current container up to but not including
				|this one.

		// Integrity checks
		Binary PayloadDigest
			Description
				|If present, contains the digest of the Payload.

		Binary ChainDigest
			Description
				|If present, contains the digest of the PayloadDigest values of this
				|frame and the frame immediately preceding.

		Binary TreeDigest
			Description
				|If present, contains the Binary Merkle Tree digest value.




		// Information describing the content
		String ContentType
			Description
				|Content type parameter

		String Paths
			Multiple
			Description
				|List of filename paths for the payload of the frame.

		String Labels
			Multiple
			Description
				|List of labels that are applied to the payload of the frame.
		
		Struct KeyValue KeyValues
			Multiple
			Description
				|List of key/value pairs describing the payload of the frame.

		// Encryption parameters
		Binary EncryptedKey
			Description
				|Session key encrypted under a key exchange specified in the Recipients 
				|list of this frame (if present) or the frame at the position specified by
				|exchange position (if present) or the first frame.

		Struct Signature Signatures
			Multiple
			Description
				|Per signer signature data

		Struct Recipient Recipients
			Multiple
			Description
				|Per recipient key exchange data.


	Structure ContainerIndex
		Description
			|A container index
		Boolean Full
			Description
				|If true, the index is complete and contains position entries for all the 
				|frames in the file. If absent or false, the index is incremental and only
				|contains position entries for records added since the last 
				|frame containing a ContainerIndex.
		Struct IndexPosition Positions
			Multiple
			Description
				|List of container position entries
		Struct IndexMeta Metas
			Multiple
			Description
				|List of container position entries

	Structure IndexPosition
		Description
			|Specifies the position in a file at which a specified record index is found
		Integer Index
			Description
				|The record index within the file.
		Integer Position
			Description
				|The record position within the file relative to the index base.


	Structure KeyValue
		Description
			|Specifies a key/value entry
		String Key
			Description
				|The key
		String Value
			Description
				|The value corresponding to the key

	Structure IndexMeta
		Description
			|Specifies the list of index entries at which a record with the specified metadata occurrs.

		Integer Index
			Multiple
			Description
				|List of record indicies within the file where frames matching the specified 
				|criteria are found.
		String ContentType
			Description
				|Content type parameter
		String Paths
			Multiple
			Description
				|List of filename paths for the current frame.
		String Labels
			Multiple
			Description
				|List of labels that are applied to the current frame.

