<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0078)https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head profile="http://dublincore.org/documents/2008/08/04/dc-html/"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="robots" content="index,follow">
    <meta name="creator" content="rfcmarkup version 1.129d on tools.ietf.org">
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/">
<meta name="DC.Identifier" content="urn:ietf:id:levkowetz-xml2rfc-v3-implementation-notes">
<meta name="DC.Description.Abstract" content="This memo documents issues and observations found while implementing
RFC 7991. Individual notes are organised into separate sections,
depending on their character.">
<meta name="DC.Creator" content="Henrik Levkowetz &lt;henrik@levkowetz.com&gt;">
<meta name="DC.Date.Issued" content="2019-10-15">
<meta name="DC.Title" content="Implementation notes for RFC7991, &quot;The &#39;xml2rfc&#39; Version 3 Vocabulary&quot;">

    <link rel="icon" href="https://tools.ietf.org/images/id.png" type="image/png">
    <link rel="shortcut icon" href="https://tools.ietf.org/images/id.png" type="image/png">
    <title>draft-levkowetz-xml2rfc-v3-implementation-notes-10 - Implementation notes for RFC7991, "The 'xml2rfc' Version 3 Vocabulary"</title>
    
    
    <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            /* line-height: 0pt; */
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style>
    <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]-->

    <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script>
</head>
<body onload="addHeaderTags()">
  <div class="content">
   <div style="height: 13px;">
      <div onmouseover="this.style.cursor=&#39;pointer&#39;;" onclick="showElem(&#39;legend&#39;);" onmouseout="hideElem(&#39;legend&#39;)" style="height: 6px; position: absolute;" class="pre noprint docinfo bgred" title="Click for colour legend.">                                                                        </div>
      <div id="legend" class="docinfo noprint pre legend" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; " onmouseover="showElem(&#39;legend&#39;);" onmouseout="hideElem(&#39;legend&#39;);">
      </div>
   </div>
<!-- draftname: draft-levkowetz-xml2rfc-v3-implementation-notes-10 --><span class="pre noprint docinfo top">[<a href="https://tools.ietf.org/html/" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/id/draft-levkowetz-xml2rfc-v3-implementation-notes-10.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/draft-levkowetz-xml2rfc-v3-implementation-notes-10.txt" title="PDF version of this document">pdf</a>|<a href="https://tools.ietf.org/id/draft-levkowetz-xml2rfc-v3-implementation-notes-10.xml" title="XML source for this document">xml</a>|<a href="https://tools.ietf.org/id/draft-levkowetz-xml2rfc-v3-implementation-notes-10.html" title="HTML version of this document, from XML2RFC">html</a>] [<a href="https://datatracker.ietf.org/doc/draft-levkowetz-xml2rfc-v3-implementation-notes" title="IESG Datatracker information for this document">Tracker</a>] [<a href="mailto:draft-levkowetz-xml2rfc-v3-implementation-notes@ietf.org?subject=draft-levkowetz-xml2rfc-v3-implementation-notes%20" title="Send email to the document authors">Email</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=draft-levkowetz-xml2rfc-v3-implementation-notes-10.txt" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=draft-levkowetz-xml2rfc-v3-implementation-notes-10.txt" title="Side-by-side diff">Diff2</a>] [<a href="https://tools.ietf.org/idnits?url=https://tools.ietf.org/id/draft-levkowetz-xml2rfc-v3-implementation-notes-10.txt" title="Run an idnits check of this document">Nits</a>]      </span><br>
<span class="pre noprint docinfo">                                                                        </span><br>
<span class="pre noprint docinfo">Versions: <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-00">00</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-01">01</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-02">02</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-03">03</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-04">04</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-05">05</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-06">06</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-07">07</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-08">08</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-09">09</a> <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10">10</a>                              </span><br>
<span class="pre noprint docinfo">                                                                        </span><br>
<pre>Network Working Group                                       H. Levkowetz
Internet-Draft                                              Elf Tools AB
Intended status: Informational                           15 October 2019
Expires: 17 April 2020


                   <span class="h1"><h1>Implementation notes for <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a>,</h1></span>
                  <span class="h1"><h1>"The 'xml2rfc' Version 3 Vocabulary"</h1></span>
           <span class="h1"><h1>draft-levkowetz-xml2rfc-v3-implementation-notes-10</h1></span>

Abstract

   This memo documents issues and observations found while implementing
   <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>.  Individual notes are organised into separate sections,
   depending on their character.

Status of This Memo

   This Internet-Draft is submitted in full conformance with the
   provisions of <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and <a href="https://tools.ietf.org/html/bcp79">BCP 79</a>.

   Internet-Drafts are working documents of the Internet Engineering
   Task Force (IETF).  Note that other groups may also distribute
   working documents as Internet-Drafts.  The list of current Internet-
   Drafts is at <a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a>.

   Internet-Drafts are draft documents valid for a maximum of six months
   and may be updated, replaced, or obsoleted by other documents at any
   time.  It is inappropriate to use Internet-Drafts as reference
   material or to cite them other than as "work in progress."

   This Internet-Draft will expire on 17 April 2020.

Copyright Notice

   Copyright (c) 2019 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents (<a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/</a>
   <a href="https://trustee.ietf.org/license-info">license-info</a>) in effect on the date of publication of this document.
   Please review these documents carefully, as they describe your rights
   and restrictions with respect to this document.  Code Components
   extracted from this document must include Simplified BSD License text
   as described in Section 4.e of the <a href="https://trustee.ietf.org/license-info">Trust Legal Provisions</a> and are
   provided without warranty as described in the Simplified BSD License.





<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 1]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-2" id="page-2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-2" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


Table of Contents

   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-5">5</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2">2</a>.  Fitness for Purpose . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-5">5</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.1">2.1</a>.  Degraded Table of Contents  . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-6">6</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.2">2.2</a>.  RFC Publication Date Policy . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-6">6</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3">3</a>.  Schema Issues . . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-6">6</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1">3.1</a>.  <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-6">6</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.1">3.1.1</a>.  Before <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5">Section 2.5</a>: &lt;artset&gt;  . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-7">7</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.2">3.1.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5.5">Section 2.5.5</a>, "name" Attribute  . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-8">8</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.3">3.1.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5.7">Section 2.5.7</a>, &lt;artwork&gt; "type" Attribute  . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-8">8</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.4">3.1.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.6">Section 2.6</a>, &lt;aside&gt; . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-9">9</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.5">3.1.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.12">Section 2.12</a>, &lt;br&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-10">10</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.6">3.1.6</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.20">Section 2.20</a>, &lt;dl&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-10">10</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.7">3.1.7</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.20.4">Section 2.20.4</a>, "indent" Attribute  . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-11">11</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.8">3.1.8</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.54.2">Section 2.54.2</a>  . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-11">11</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.9">3.1.9</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.27">Section 2.27</a>, &lt;iref&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-12">12</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.10">3.1.10</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.29">Section 2.29</a>, &lt;li&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-12">12</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.11">3.1.11</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.32">Section 2.32</a>, &lt;name&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-13">13</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.12">3.1.12</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.32">Section 2.32</a>, &lt;organization&gt; . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-13">13</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.13">3.1.13</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.37">Section 2.37</a>, &lt;postal&gt; . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-14">14</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.14">3.1.14</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.40.2">Section 2.40.2</a>, "quoteTitle" . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-14">14</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.15">3.1.15</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.41">Section 2.41</a>, &lt;referencegroup&gt; . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-15">15</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.16">3.1.16</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.42">Section 2.42</a>, &lt;references&gt; . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-15">15</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.17">3.1.17</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.45.1">Section 2.45.1</a>, "category" Attribute . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-15">15</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.18">3.1.18</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.45.3">Section 2.45.3</a>, "docName" Attribute  . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-16">16</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.19">3.1.19</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.45.7">Section 2.45.7</a>, "number" Attribute . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-16">16</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.20">3.1.20</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.46.2">Section 2.46.2</a>, "numbered" Attribute . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-16">16</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21">3.1.21</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.47">Section 2.47</a>, &lt;seriesInfo&gt; . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-17">17</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.22">3.1.22</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.48">Section 2.48</a>, &lt;sourcecode&gt; . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-19">19</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.23">3.1.23</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.53.3">Section 2.53.3</a> and 2.53.4. . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-19">19</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.24">3.1.24</a>. New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2">Section 2</a>.X, &lt;u&gt;  . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-19">19</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.25">3.1.25</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.63.2">Section 2.63.2</a>, &lt;ul&gt; "empty" attribute . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-20">20</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.26">3.1.26</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.66.1">Section 2.66.1</a>, &lt;xref&gt; "format" attribute  . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-20">20</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.27">3.1.27</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.3">Section 3.3</a>, &lt;format&gt;  . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-22">22</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.28">3.1.28</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.4.2">Section 3.4.2</a>, "hangIndent" Attribute  . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-22">22</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.29">3.1.29</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-C">Appendix C</a>.  Relax NG schema . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-22">22</a>
       3.1.30. Use of the term "counter".  . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-23">23</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.31">3.1.31</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.44">Section 2.44</a>, &lt;relref&gt; . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-23">23</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2">3.2</a>.  <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a>  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-23">23</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2.1">3.2.1</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.1.6">Section 5.1.6</a>, Attribute validation . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-23">23</a>
       3.2.2.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.6">Section 5.2.6</a>, Attribute Default Value
               Insertion . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-24">24</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2.3">3.2.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.6">Section 5.4.6</a>, "pn" Numbering. . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-24">24</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.3">3.3</a>.  Some attributes should have value type xsd:ID . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-24">24</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4">4</a>.  Non-Schema Issues . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-25">25</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1">4.1</a>.  <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-25">25</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.1">4.1.1</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5.7">Section 2.5.7</a>, "type" Attribute  . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-25">25</a>



<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 2]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-3" id="page-3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-3" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.2">4.1.2</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.8.1">Section 2.8.1</a>: Index  . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-25">25</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.3">4.1.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.17">Section 2.17</a>, &lt;date&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-26">26</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.4">4.1.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.40.1">Section 2.40.1</a>, "anchor" Attribute . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-27">27</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.5">4.1.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.48.4">Section 2.48.4</a>, "type" Attribute . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-27">27</a>
       4.1.6.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.1">Appendix A.1.1</a>: TLP switch-over date
               discrepancies . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-27">27</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.7">4.1.7</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-B.2.1">Appendix B.2.1</a>: Generation of PN numbers . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-28">28</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2">4.2</a>.  <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a>  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-28">28</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.1">4.2.1</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.1">Section 5.1</a>, IDs . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-28">28</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.2">4.2.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6.2">Section 6.2</a>, Root Element  . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-29">29</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.3">4.2.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6.4">Section 6.4</a>, Page Headers and Footers  . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-29">29</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.4">4.2.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6.5">Section 6.5</a>, Document Information  . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-29">29</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.5">4.2.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-8.1.1">Section 8.1.1</a>, Index Contents  . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-30">30</a>
       4.2.6.  Inconsistent use of "s-", "n-" and User-Supplied
               "id" Attributes . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-30">30</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.7">4.2.7</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.2">Section 9.2</a>, &lt;address&gt; . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-31">31</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.8">4.2.8</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.7.2">Section 9.7.2</a>, Authors of this Document  . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-32">32</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.9">4.2.9</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.7.3">Section 9.7.3</a>, Authors of References . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-32">32</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.10">4.2.10</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.16">Section 9.16</a>, &lt;cref&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-32">32</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.11">4.2.11</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.24">Section 9.24</a>, &lt;eref&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.12">4.2.12</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.25">Section 9.25</a>, &lt;figure&gt; . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.13">4.2.13</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.27">Section 9.27</a>, &lt;iref&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.14">4.2.14</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.33">Section 9.33</a>, &lt;note&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.15">4.2.15</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.34">Section 9.34</a>, &lt;ol&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.16">4.2.16</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.35">Section 9.35</a>, &lt;organization&gt; . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.17">4.2.17</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.36">Section 9.36</a>, &lt;phone&gt;  . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33">33</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.18">4.2.18</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.37">Section 9.37</a>, &lt;postal&gt; . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-34">34</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.19">4.2.19</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.40">Section 9.40</a>, &lt;reference&gt;  . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-34">34</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.20">4.2.20</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.41">Section 9.41</a>, &lt;referencegroup&gt; . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-35">35</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.21">4.2.21</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.42">Section 9.42</a>, &lt;references&gt; . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-36">36</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.22">4.2.22</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.54">Section 9.54</a>, &lt;table&gt;  . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-36">36</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.23">4.2.23</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.56">Section 9.56</a>, &lt;td&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-36">36</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.24">4.2.24</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.58">Section 9.58</a>, &lt;th&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-36">36</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.25">4.2.25</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.60">Section 9.60</a>, &lt;title&gt;  . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-37">37</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.26">4.2.26</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.66">Section 9.66</a>, &lt;xref&gt; . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-37">37</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.27">4.2.27</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.18">Section 9.18</a>, &lt;dd&gt; . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-37">37</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.3">4.3</a>.  <a href="https://tools.ietf.org/html/rfc7994">RFC 7994</a>  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-37">37</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.3.1">4.3.1</a>.  Additional Guidance . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-37">37</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4">4.4</a>.  <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a>  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-38">38</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.1">4.4.1</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.3">Section 5.2.3</a>, &lt;date&gt; Insertion  . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-38">38</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.2">4.4.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.4">Section 5.2.4</a>, "prepTime" Insertion  . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-39">39</a>
       4.4.3.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.6">Section 5.2.6</a>, Attribute Default Value
               Insertion . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-39">39</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.4">4.4.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.7">Section 5.2.7</a>, "toc" Attribute . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-39">39</a>
       4.4.5.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.8">Section 5.2.8</a>, "removeInRFC" Warning
               Paragraph . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-40">40</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.6">4.4.6</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3.1">Section 5.3.1</a>, "month" Attribute . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-40">40</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.7">4.4.7</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3.2">Section 5.3.2</a>, ASCII Attribute Processing  . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-40">40</a>



<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 3]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-4" id="page-4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-4" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


       4.4.8.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3.4">Section 5.3.4</a>: "keepWithNext"
               Normalisation . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-41">41</a>
       4.4.9.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2">Section 5.4.2</a>, &lt;boilerplate&gt; Insertion: Only
               for RFCs? . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-41">41</a>
       4.4.10. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2">Section 5.4.2</a>, &lt;boilerplate&gt; Insertion: Error
               Message . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-42">42</a>
       4.4.11. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2.1">Section 5.4.2.1</a>, Compare submissionType and
               &lt;seriesInfo&gt; "stream".  . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-42">42</a>
       4.4.12. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2.2">Section 5.4.2.2</a>, "Status of this Memo"
               Insertion . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-43">43</a>
       4.4.13. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.3">Section 5.4.3</a>, &lt;reference&gt; "target"
               Insertion . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-43">43</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.14">4.4.14</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.4">Section 5.4.4</a>, &lt;name&gt; Slugification  . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-43">43</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.15">4.4.15</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.6">Section 5.4.6</a>, "pn" Numbering. . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-44">44</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.16">4.4.16</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.7">Section 5.4.7</a>, &lt;iref&gt; Numbering  . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-45">45</a>
       4.4.17. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.8.1">Section 5.4.8.1</a>, "derivedContent" Insertion
               (with Content)  . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-46">46</a>
       4.4.18. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.8.2">Section 5.4.8.2</a>, "derivedContent" Insertion
               (without Content) . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-47">47</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.19">4.4.19</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.5.1">Section 5.5.1</a>, &lt;artwork&gt; Processing  . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-47">47</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.20">4.4.20</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.5.2">Section 5.5.2</a>, &lt;sourcecode&gt; Processing . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-47">47</a>
       4.4.21. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.8.2">Section 5.4.8.2</a>, "derivedContent"
               Insertion.  . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-48">48</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.22">4.4.22</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.9">Section 5.4.9</a>, &lt;relref&gt; Processing . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-48">48</a>
       4.4.23. New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.10">Section 5.4.10</a>, Unused Reference
               Warnings  . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-49">49</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.24">4.4.24</a>. New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.11">Section 5.4.11</a>, Index Insertion . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-49">49</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.25">4.4.25</a>. In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.6.3">Section 5.6.3</a>, &lt;link&gt; Processing . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-49">49</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5">5</a>.  Possible New Work . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-50">50</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.1">5.1</a>.  Inline and Display Math . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-50">50</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2">5.2</a>.  Change Bars . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-51">51</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3">5.3</a>.  Element Nesting . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-51">51</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4">5.4</a>.  Schema Consistency  . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-51">51</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6">6</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-51">51</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-7">7</a>.  Informative References  . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-51">51</a>
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A">Appendix A</a>.  Proposed new sections in <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a> bis  . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-53">53</a>
     <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1">A.1</a>.  &lt;u&gt; . . . . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-53">53</a>
       A.1.1.  Expansion of simplified &lt;u&gt; format
               specifications  . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-54">54</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.2">A.1.2</a>.  Non-simplified &lt;u&gt; format specifications  . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-55">55</a>
       <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.3">A.1.3</a>.  Split expansion of &lt;u&gt; elements . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-56">56</a>
   Author's Address  . . . . . . . . . . . . . . . . . . . . . . . .  <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-58">58</a>









<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 4]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-5" id="page-5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-5" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h2"><h2><a class="selflink" name="section-1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-1">1</a>.  Introduction</h2></span>

   Implementation of tool support for [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] and related
   specifications has been done during 2017 and 2018, split in the
   following individual parts, all implemented as individual modes of
   the python-based xml2rfc processor [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-XML2RFC" title="&quot;xml2rfc&quot;">XML2RFC</a>]:

   *  An XML converter from vocabulary version 2 [<a href="https://tools.ietf.org/html/rfc7749" title="&quot;The &quot;">RFC7749</a>] to version 3
      [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>]

   *  A Normalisation processor, "PrepTool", [<a href="https://tools.ietf.org/html/rfc7997" title="&quot;The Use of Non-ASCII Characters in RFCs&quot;">RFC7997</a>]

   *  An XML to plain text converter [<a href="https://tools.ietf.org/html/rfc7994" title="&quot;Requirements for Plain-Text RFCs&quot;">RFC7994</a>] for the version 3
      vocabulary

   *  An XML to HTML converter [<a href="https://tools.ietf.org/html/rfc7992" title="&quot;HTML Format for RFCs&quot;">RFC7992</a>] for the version 3 vocabulary
      (work in progress as of 28 Sep. 2018)

   *  A HTML to PDF converter [<a href="https://tools.ietf.org/html/rfc7995" title="&quot;PDF Format for RFCs&quot;">RFC7995</a>] for the version 3 vocabulary
      (pending as of 28 Sep. 2018)

   During the implementation work, a number of issues with the
   specification has been found (this was expected at the outset by all
   parties) and a number of observations has been made about limitations
   of the specification and vocabulary version 3 schema, and also
   limitations in the specification of the work to be done.

   The purpose of this memo is to collect those issues and observations
   in one place.

   When this memo says 'the current version of xml2rfc', it refers to
   the latest release of the xml2rfc processor available from the PyPi
   package repository (<a href="https://pypi.org/pypi/xml2rfc">https://pypi.org/pypi/xml2rfc</a>) at the date this
   document was published, as given above.

<span class="h2"><h2><a class="selflink" name="section-2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2">2</a>.  Fitness for Purpose</h2></span>

   The introduction to [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] states:

      "This document defines the "xml2rfc" version 3 vocabulary: an XML-
      based language used for writing RFCs and Internet-Drafts.  It is
      heavily derived from the version 2 vocabulary that is also under
      discussion.  This document obsoletes the v2 grammar described in
      <a href="https://tools.ietf.org/html/rfc7749">RFC 7749</a>."

   However, an unstated assumption seems to have been that the new tools
   and formatters would be used primarily to produce HTML output, in




<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 5]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-6" id="page-6" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-6" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   order to transition to publication of renderings of RFCs in more
   modern formats than plain-text ASCII.

   This is a reasonable and worthwhile goal, but as a result, the schema
   as specified in [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] has some drawbacks compared with the
   version 2 vocabulary when used to produce Internet-Drafts in the text
   format common within the IETF (Internet Engineering Task Force) at
   this time.

<span class="h3"><h3><a class="selflink" name="section-2.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.1">2.1</a>.  Degraded Table of Contents</h3></span>

   Lack of pagination has little impact on direct online readability,
   but when comparing the output of the new text formatter with the old
   one, one aspect leaps out: Since there is no pagination, the table of
   contents simply lists the section headers to a certain depth, without
   any accompanying page numbers.  This makes a surprising difference in
   how useful the table of contents is in getting an initial feel for
   the document.  The at-a-glance information which lets a reader know
   if this is a document of 10 pages or 100 is simply lacking.

   Proposal:  Add support for pagination in a future version of the text
      formatter.

   Implementation:  None in the current version of xml2rfc.

<span class="h3"><h3><a class="selflink" name="section-2.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.2">2.2</a>.  RFC Publication Date Policy</h3></span>

   The specification [<a href="https://tools.ietf.org/html/rfc7998" title="&quot;xml2rfc&quot;">RFC7998</a>] says that an error should be generated if
   a &lt;date&gt; specification is found with missing elements; but the RFC
   Editor publishes documents (except for April 1st RFCs) with only year
   and month, no day of month.  The specification disallows this, and in
   effect makes it impossible for the RFC Editor to publish documents
   according to the current policy regarding publication date format.

   Proposal:  Revert to to the old behaviour, where the tool in RFC mode
      would issue a date with or without day depending on whether the
      &lt;date&gt; element had a day attribute or not.

   Implementation:  The current version of xml2rfc warns if not all
      three &lt;date&gt; elements are present in RFC mode.  The tool author
      considers even this inappropriate.

<span class="h2"><h2><a class="selflink" name="section-3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3">3</a>.  Schema Issues</h2></span>

<span class="h3"><h3><a class="selflink" name="section-3.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1">3.1</a>.  <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a></h3></span>






<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 6]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-7" id="page-7" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-7" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-3.1.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.1">3.1.1</a>.  Before <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5">Section 2.5</a>: &lt;artset&gt;</h4></span>

   The way &lt;artwork&gt; has been specified to handle the presence of both
   SVG artwork and text fallback (in <a href="https://tools.ietf.org/html/rfc7991#section-2.5">Section&nbsp;2.5 of [RFC7991]</a>) has the
   result that any SVG content has to be placed as a data: URL in the
   "src" attribute when an ascii-art fallback is present.  This makes
   the SVG effectively uneditable once the preptool has been run, even
   if the SVG artwork was originally provided as a regular SVG XML file
   external to the document XML file.

   In order to be able to more easily deal with alternative instances of
   artwork, and in the future possibly deal smoothly with a wider number
   of alternative artwork formats than is currently provided for, a new
   element &lt;artset&gt; could be introduced, presenting a set of alternative
   artwork executions.  This would let the renderer pick the most
   appropriate &lt;artwork&gt; instance for its format from the alternatives
   present within an &lt;artset&gt; element, based on the "type" attribute of
   each enclosed &lt;artwork&gt; element.

   If more than one &lt;artwork&gt; element is found within an &lt;artset&gt;
   element, with the same "type" attribute, the renderer could select
   the first one, or possibly choose between the alternative instances
   based on the output format and some quality of the alternative
   instances that made one more suitable than the other for that
   particular format, such as size, aspect ratio, or whatnot.

   Implementation:  Xml2rfc as of version 2.19.0 implements this, with a
      preference list when rendering to HTML and PDF of ( "svg",
      "binary-art", "ascii-art" ), while the text renderer uses the list
      ( "ascii-art", ) -- i.e., one entry only.  The Relax-NG compact
      schema used for &lt;artset&gt; is this:

         artset =
           element artset {
             attribute xml:base { text }?,
             attribute xml:lang { text }?,
             attribute anchor { xsd:ID }?,
             attribute pn { xsd:ID }?,
             artwork+
           }

      The &lt;artset&gt; element can occur anywhere an &lt;artwork&gt; element can
      occur.  The first anchor on an &lt;artwork&gt; element within an
      &lt;artset&gt; element will be promoted to the &lt;artset&gt; element if it
      has none; apart from that, anchors on &lt;artwork&gt; elements within an
      &lt;artset&gt; element will be removed by the preptool.





<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 7]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-8" id="page-8" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-8" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-3.1.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.2">3.1.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5.5">Section 2.5.5</a>, "name" Attribute</h4></span>

      "A filename suitable for the contents (such as for extraction to a
      local file)."

   Given the existing use of "name" on &lt;seriesInfo&gt;, this attribute name
   has a semantic dissonance.

   Proposal:  Deprecate "name" for use on &lt;artwork&gt; and &lt;sourcecode&gt;,
      and instead use "file", which for &lt;sourcecode&gt; will be explicitly
      rendered, as established as best current practice for YANG modules
      as specified in [<a href="https://tools.ietf.org/html/rfc8407" title="&quot;Guidelines for Authors and Reviewers of Documents Containing YANG Data Models&quot;">RFC8407</a>].

   Implementation:  The current version of xml2rfc uses "name".

   Resolution:  The attribute "name" was used for this purpose already
      in v2 of the vocabulary.  Closed with no action.

   This issue is tracked as github issue #36 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/36">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/36">format/draft-iab-xml2rfc-v3-bis/issues/36</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.3">3.1.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5.7">Section 2.5.7</a>, &lt;artwork&gt; "type" Attribute</h4></span>

   The text lists a number of preferred values, but does not indicate
   how these are to be used, or what to do with other values.  In
   particular, the default value is "" (i.e., empty) -- should this
   cause a warning or error, or any other action?  If not, how should
   'preferred' be understood?

   Additionally, according to <a href="https://tools.ietf.org/html/rfc7991#section-5.1">Section&nbsp;5.1 of RFC 7991</a>, any text content
   serves as ascii-art fallback in case the rendering format cannot
   render the content that the 'src' attribute indicates.  But in that
   case, it seems that the "type" attribute should apply exclusively to
   the content that the "src" attribute points at.  This should be
   clarified in the text.

   Further, some thought about the possible use cases for the listed
   preferred values of the "type" attribute makes it appear that the
   given list contains values from (at least) two different classes of
   things:

   *  "svg" seems to describe a format

   *  "binary-art" also seems to describe a format

   *  "ascii-art" also seems to describe a format

   *  "call-flow" seems to describe the art content



<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 8]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-9" id="page-9" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-9" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   *  "hex-dump" seems to describe the art content

   Proposal:  Require the "type" attribute to have a value if the "src"
      attribute is specified, and let it describe the format.  If any
      action should be taken on the basis of one of the preferred values
      appearing or a different value appearing, add text to indicate so.

      For values like "call-flow" and "hex-dump", add a different
      attribute to describe the artwork content.  Do not conflate the
      artwork description with the artwork format given in the "type"
      attribute.

   Implementation:  The current implementation uses the "type" attribute
      to determine how to process the "src" attribute.  Handling exists
      for the values "svg", "binary-art", and "ascii-art".  The idnits
      rewrite warns if type has any value other than "svg", "binary-
      art", or "ascii-art".

      As of version 2.19.0 of xml2rfc, the conflict between the type
      that the "src" attribute points at, and any ascii-art fallback has
      been removed by introduction of the &lt;artset&gt; element.

<span class="h4"><h4><a class="selflink" name="section-3.1.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.4">3.1.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.6">Section 2.6</a>, &lt;aside&gt;</h4></span>

<span class="h5"><h5><a class="selflink" name="section-3.1.4.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.4.1">3.1.4.1</a>.  Child element &lt;list&gt;</h5></span>

   The schema permits &lt;list&gt; inside &lt;aside&gt;, but &lt;list&gt; is deprecated,
   and &lt;aside&gt; is a new vocabulary v3 element, so they should never be
   able to occur together, it seems to me.

   Proposal:  Don't permit &lt;list&gt; inside &lt;aside&gt;.

   Implementation:  Implemented in the current version of xml2rfc.

<span class="h5"><h5><a class="selflink" name="section-3.1.4.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.4.2">3.1.4.2</a>.  Child element &lt;table&gt;</h5></span>

   The schema permits &lt;table&gt; inside &lt;aside&gt;, but does not permit
   &lt;table&gt; inside &lt;blockquote&gt;.  Lacking any indication of why this is,
   it seems reasonable to propose that the schema be adjusted to permit
   &lt;table&gt; inside either both or neither.

   An added consideration is that appropriate rendering of table headers
   and footers across page breaks may be in conflict with rendering of
   &lt;table&gt; within &lt;aside&gt; and &lt;blockquote&gt;.

   Implementation:  The current implementation (xml2rfc version 2.21.x)
      permits &lt;table&gt; inside both &lt;aside&gt; and &lt;blockquote&gt;, but does not
      guarantee that &lt;aside&gt;s and &lt;blockquote&gt;s broken across pages will



<span class="grey">Levkowetz                 Expires 17 April 2020                 [Page 9]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-10" id="page-10" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-10" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


      have new table headers and footers added if a table inside is
      split over multiple pages.

<span class="h4"><h4><a class="selflink" name="section-3.1.5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.5">3.1.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.12">Section 2.12</a>, &lt;br&gt;</h4></span>

   A number of elements permits a mixed content model (see
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.10.2">Section 3.1.10.2</a>): &lt;li&gt;, &lt;blockquote&gt;, &lt;dd&gt;, &lt;td&gt;, and &lt;th&gt;.
   However, when using the simpler of the two content schemas, two of
   them (&lt;td&gt; and &lt;th&gt;) permit inline line breaks through the use of
   &lt;br&gt; elements; the others do not.  This seems terribly arbitrary.

   Proposal:  Remove the &lt;br&gt; element completely.  Alternatively, permit
      it to be used all places that 'text' and non-block elements may be
      used (that is, in inline context).

   Resolution:  The &lt;br&gt; element is to be removed from the schema
      completely.

   This issue is tracked as github issue #37 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/37">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/37">format/draft-iab-xml2rfc-v3-bis/issues/37</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.6" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.6">3.1.6</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.20">Section 2.20</a>, &lt;dl&gt;</h4></span>

   The current specification says:

      "The "hanging" attribute defines whether or not the term appears
      on the same line as the definition.  hanging="true" indicates that
      the term is to the left of the definition, while hanging="false"
      indicates that the term will be on a separate line."

   This does not match established typographic terminology.  In
   typographic terminology, "hanging indent" describes the case where
   the indentation of the second and subsequent lines of a paragraph is
   greater than the indentation of the first line.  Whether the
   definition in a definition list starts on the first line or not has
   nothing to do with the presence of hanging indent; our definition
   lists will *always* have hanging indent.

   The 'hanging' attribute also describes something different from what
   the term has been used to describe in the version 2 vocabulary.  This
   will be confusing to users.

   A more descriptive name for the attribute we're talking about would
   be 'start-definition-on-first-line', but that's unwieldy.  Maybe
   'newline="false"' to start the definition on the first line, or
   something like 'definition-start="first"'?





<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 10]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-11" id="page-11" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-11" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Proposal:  Change this to a different term that is more descriptive
      and does not use typographically incorrect terminology.

   Resolution:  The "hanging" attribute will be renamed to "newline",
      with newline="true" meaning the same as hanging="false".  The
      default value will change accordingly.

   This issue is tracked as github issue #38 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/38">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/38">format/draft-iab-xml2rfc-v3-bis/issues/38</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.7" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.7">3.1.7</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.20.4">Section 2.20.4</a>, "indent" Attribute</h4></span>

   The deprecation of the "hangIndent" attribute on &lt;list&gt; leaves no
   opportunity to control the size of the hanging indent.  In some
   definition lists, it is desirable to have a wide indentation, in
   order to clearly show the terms, in other cases it is more important
   to allow for a larger text volume than the width of the terms would
   allow.

   Proposal:  Add an "indent" attribute on &lt;dl&gt; to control the size of
      the hanging indent.

   Resolution:  An "indent" attribute will be added on &lt;dl&gt; to control
      the size of the hanging indent.  The value will signify the number
      of character positions in text/plain rendering, and a count of
      0.5em distances in richer renderings.

   This issue is tracked as github issue #39 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/39">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/39">format/draft-iab-xml2rfc-v3-bis/issues/39</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.8" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.8">3.1.8</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.54.2">Section 2.54.2</a></h4></span>

   The version 3 schema deprecates the previously available 'align'
   attribute for the tables, and the V2 to V3 converter will remove this
   attributes if used.  This makes a previous feature that was
   appreciated by some authors unavailable.  In the text formatter, the
   effect is simply to make all tables left-aligned, which may not be
   the most readable and polished output, but for the HTML formatter it
   also potentially removes the option of letting text flow around
   smaller tables in a controlled way.

   Proposal:  Make the 'align' attribute for tables available again.

   Resolution:  An attribute "align" will be re-introduced for table
      alignment, with the possible values "left", "center", and "right".

   This issue is tracked as github issue #40 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/40">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/40">format/draft-iab-xml2rfc-v3-bis/issues/40</a>)



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 11]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-12" id="page-12" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-12" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-3.1.9" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.9">3.1.9</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.27">Section 2.27</a>, &lt;iref&gt;</h4></span>

   In HTML5, &lt;span&gt; may not be placed directly inside a table.  <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a>
   specifies that &lt;iref&gt; should be rendered as a &lt;span&gt;, and also
   specifies that &lt;table&gt; is directly rendered as its HTML counterpart.
   This results in generating invalid HTML.  Suggest disallowing &lt;iref&gt;
   as a direct child of &lt;table&gt; (but still permitting it within &lt;th&gt; and
   &lt;td&gt;).

<span class="h4"><h4><a class="selflink" name="section-3.1.10" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.10">3.1.10</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.29">Section 2.29</a>, &lt;li&gt;</h4></span>

<span class="h5"><h5><a class="selflink" name="section-3.1.10.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.10.1">3.1.10.1</a>.  Unordered lists with arbitrary symbols</h5></span>

   When &lt;li&gt; is used with &lt;ul empty="true"&gt;, the rendering is under-
   specified (the specification says 'no label will be shown", but
   doesn't say whether list indentation (leading whitespace) should be
   eliminated or not.

   If the intention is to make it possible to render unordered lists
   with arbitrary symbols, chosen on a per-list-item basis, the current
   attributes of &lt;li&gt; are insufficient to indent and line-wrap list
   items properly with &lt;ul empty='true'&gt;.

   It is not possible, for instance, to use &lt;ul&gt; lists to generate XML
   for a table of content, since if the width of the bullet (the section
   number, in this case) is unknown, the proper indentation and line
   wrapping cannot be determined.

   Proposal:  Add an explicit "bullet" attribute to support this use
      case.

   Resolution:  Rejected.

   This issue is tracked as github issue #45 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/45">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/45">format/draft-iab-xml2rfc-v3-bis/issues/45</a>)

<span class="h5"><h5><a class="selflink" name="section-3.1.10.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.10.2">3.1.10.2</a>.  Mixed Content Model</h5></span>

   The mixed content model for &lt;li&gt; - either text and inline elements
   like sub, sup, <a href="https://tools.ietf.org/html/bcp14">bcp14</a>, _or_ &lt;t&gt;, &lt;ul&gt;, &lt;figure&gt; etc, is non-intuitive
   and may be hard for users to keep straight.

   Proposal:  Consider simplifying the schema by requiring that text and
      inline elements always are placed within a &lt;t&gt; element.

   Resolution:  Rejected.





<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 12]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-13" id="page-13" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-13" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   This would apply also to other elements that today have alternative
   content models: &lt;blockquote&gt;, &lt;dd&gt;, &lt;td&gt;, and &lt;th&gt;.

   This issue is tracked as github issue #46 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/46">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/46">format/draft-iab-xml2rfc-v3-bis/issues/46</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.11" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.11">3.1.11</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.32">Section 2.32</a>, &lt;name&gt;</h4></span>

   So the &lt;name&gt; element can contain text or &lt;tt&gt;, and &lt;tt&gt; can contain
   other markup like &lt;sub&gt; and &lt;sup&gt; etc., but why cannot &lt;name&gt; contain
   &lt;sup&gt; etc.  directly?

   Proposal:  Change the &lt;name&gt; element schema to permit all inline
      elements that &lt;tt&gt; can contain, in addition to &lt;tt&gt;.

   Resolution:  Accepted.

   This issue is tracked as github issue #47 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/47">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/47">format/draft-iab-xml2rfc-v3-bis/issues/47</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.12" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.12">3.1.12</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.32">Section 2.32</a>, &lt;organization&gt;</h4></span>

<span class="h5"><h5><a class="selflink" name="section-3.1.12.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.12.1">3.1.12.1</a>.  Missing "asciiAbbrev" Attribute</h5></span>

   The schema provides for extra attributes: "ascii" and "abbrev".  Why
   no "asciiAbbrev" for the case when the name and abbreviation has non-
   ascii characters?

   Proposal:  Add an attribute "asciiAbbrev" for &lt;organization&gt;, to
      provide abbreviated organization names in both ascii and non-ascii
      contexts.

   Implementation:  The current version of xml2rfc supports
      "asciiAbbrev".

<span class="h5"><h5><a class="selflink" name="section-3.1.12.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.12.2">3.1.12.2</a>.  Attribute "showOnFrontPage"</h5></span>

   Guidance from the IAB regarding IAB stream documents
   (<a href="https://www.rfc-editor.org/materials/iab-format.txt">https://www.rfc-editor.org/materials/iab-format.txt</a>) indicates that
   "'Each author's name SHOULD be listed without an organization.".  See
   also xml2rfc ticket #311
   (<a href="https://trac.tools.ietf.org/tools/xml2rfc/trac/ticket/311">https://trac.tools.ietf.org/tools/xml2rfc/trac/ticket/311</a>).

   In [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] there is no way to turn on or off the display of
   &lt;organization&gt; on the front page, which would be needed for cases
   when it is not wanted IAB documents to show such on the front page.
   (Cases where display of &lt;organization&gt; is wanted is trivially
   supported by the current code).



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 13]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-14" id="page-14" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-14" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   In order to make it possible to expressly control this for a
   vocabulary version 3 XML document, version 2.21.0 of xml2rfc
   introduces an attribute "showOnFrontPage", with default value "true".

   This issue is tracked as github issue #36 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/36">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/36">format/draft-iab-xml2rfc-v3-bis/issues/36</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.13" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.13">3.1.13</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.37">Section 2.37</a>, &lt;postal&gt;</h4></span>

   The enhancement to &lt;postal&gt;, adding a &lt;postalLine&gt; element, is a fair
   step on the way to permitting better representation of the wealth of
   postal addresses around the globe which don't match the American
   postal addresses.

   Unfortunately, it manages to throw the baby out with the bathwater by
   constraining postalLine to be used only if none of the other elements
   are used.  This makes it impossible to apply hCard [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-HCARD" title="&quot;hCard 1.0&quot;">HCARD</a>] labels
   (based on vCard [<a href="https://tools.ietf.org/html/rfc6350" title="&quot;vCard Format Specification&quot;">RFC6350</a>] properties) to the elements of an address,
   as [<a href="https://tools.ietf.org/html/rfc7992" title="&quot;HTML Format for RFCs&quot;">RFC7992</a>] requires.  Applying the schema from [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] would make
   country information and hCard tags unavailable for any locality with
   a postal address scheme that needs to use &lt;postalLine&gt; because it
   does not match the American scheme.  This would make statistics such
   as the author origin statistics either miss authors with such
   addresses, or make the statistics harder to compile than is
   necessary, and make for instance the data on this page skewed:
   <a href="https://datatracker.ietf.org/stats/document/yearly/continent/">https://datatracker.ietf.org/stats/document/yearly/continent/</a>

   The current implementation maps &lt;postalLine&gt; to the hCard property
   "extended-address", and permits it to be used together with other
   elements, in particular &lt;country&gt;, &lt;region&gt;, and &lt;city&gt;.  This is a
   change to the schema.

   The current implementation also provides a full set of hCard- and
   [<a href="https://tools.ietf.org/html/rfc6350" title="&quot;vCard Format Specification&quot;">RFC6350</a>]-compatible address elements, including &lt;extaddr&gt; and
   &lt;pobox&gt;.  The hCard locality address component is mapped to the
   current &lt;city&gt; element, however; not renamed to '&lt;locality&gt;'.

<span class="h4"><h4><a class="selflink" name="section-3.1.14" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.14">3.1.14</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.40.2">Section 2.40.2</a>, "quoteTitle"</h4></span>

   The version two xml2rfc processors already support the attribute
   "quote-title".  The attribute name change introduces an
   incompatibility.  This in particular impacts existing bibxml
   reference files, which should work with both version 2 and 3
   vocabulary documents.

   Proposal:  Change the attribute name back to the value supported by
      the vocabulary version 2 modes of xml2rfc.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 14]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-15" id="page-15" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-15" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  The current version of xml2rfc converts "quote-
      title" to "quoteTitle" during v2v3 conversion, but this is really
      sub-optimal.

   This issue is tracked as github issue #48 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/48">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/48">format/draft-iab-xml2rfc-v3-bis/issues/48</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.15" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.15">3.1.15</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.41">Section 2.41</a>, &lt;referencegroup&gt;</h4></span>

   If &lt;referencegroup&gt; is to be used to represent for instance an STD
   entries that consist of multiple RFCs, the STD itself will have an
   URL.  It would be natural to represent that with a "target"
   attribute, as for &lt;reference&gt;.

   Proposal:  Add a "target" attribute for &lt;referencegroup&lt;, matching
      the one for &lt;reference&lt;.

   Implementation:  Implemented in xml2rfc v 2.18.0

<span class="h4"><h4><a class="selflink" name="section-3.1.16" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.16">3.1.16</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.42">Section 2.42</a>, &lt;references&gt;</h4></span>

   The v3 schema cannot properly model multiple reference subsections
   contained within one numbered section.  The v2 formatter handled this
   by silently inserting an enclosing section, but with the introduction
   of the preptool, which in theory should produce a master file from
   which various formatters would produce equivalent results, this
   becomes troublesome, as the automatic insertion of a container
   section is specified for the HTML formatter, in section 9.8. of <a href="https://tools.ietf.org/html/rfc7992">RFC</a>
   <a href="https://tools.ietf.org/html/rfc7992">7992</a>, but not for the text formatter.  It would be much better to
   make the prepped xml explicitly show exactly what should be rendered,
   and not rely on formatters silently insert elements.

   Proposal:  Update the schema to make it possible for &lt;references&gt; to
      contain &lt;references&gt;, and have the prepped xml explicitly show
      both the encapsulating section and the subsections.

   Resolution:  Accepted.

   This issue is tracked as github issue #49 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/49">https://github.com/rfc-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/49">format/draft-iab-xml2rfc-v3-bis/issues/49</a>)

<span class="h4"><h4><a class="selflink" name="section-3.1.17" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.17">3.1.17</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.45.1">Section 2.45.1</a>, "category" Attribute</h4></span>

   Changing the "category" attribute of &lt;rfc&gt; to a name value in an
   additional &lt;seriesInfo&gt; makes it much harder than it needs to be to
   look it up.  It also makes the semantics of &lt;seriesInfo&gt; less clear.

   Proposal:  Remove this, and keep the "category" attribute on &lt;rfc&gt;



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 15]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-16" id="page-16" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-16" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  The "category" attribute on &lt;rfc&gt; has been kept in
      the current version of xml2rfc, but the additional &lt;seriesInfo&gt; is
      also generated during v2v3 conversion.  For purposes of
      determining the category to render, the attribute on &lt;rfc&gt; is the
      one used.

<span class="h4"><h4><a class="selflink" name="section-3.1.18" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.18">3.1.18</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.45.3">Section 2.45.3</a>, "docName" Attribute</h4></span>

   Changing the "docName" attribute of &lt;rfc&gt; to a name value in an
   additional &lt;seriesInfo&gt; makes it much harder than it needs to be to
   look it up.  It also makes the semantics of &lt;seriesInfo&gt; even less
   clear.  See also <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.25">Section 4.4.25</a>.

   Proposal:  Remove this, and keep the "docName" attribute on &lt;rfc&gt;

   Implementation:  The "docName" attribute on &lt;rfc&gt; has been kept in
      the current version of xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-3.1.19" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.19">3.1.19</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.45.7">Section 2.45.7</a>, "number" Attribute</h4></span>

   The RFC number attribute in the &lt;rfc&gt; element is used as a switch to
   control whether an RFC or an Internet-Draft is produced.  Moving what
   is effectively an important controlling switch for the operation of
   the formatters from the main element down into what is arguably an
   obscure combination of attribute values on a &lt;seriesInfo&gt; element
   several levels down from the main element feels wrong.

   Proposal:  Don't deprecate the number attribute on &lt;rfc&gt;, but require
      that the preptool checks that the number attribute matches what's
      in the &lt;seriesInfo&gt; set.  Explicitly mention that the presence of
      the number attribute on &lt;rfc&gt; causes the generation of an RFC
      rather than an Internet-Draft by the formatters.

   Implementation:  In The current version of xml2rfc, the number
      attribute on &lt;rfc&gt; is used to determine whether to produce an RFC
      or Internet-Draft.  If &lt;seriesInfo&gt; elements are found, but no
      &lt;seriesInfo&gt; with name="RFC" and value set to the number is found,
      a warning is given.  If no &lt;seriesInfo&gt; elements are found, the
      appropriate elements, including one giving the RFC number, is
      inserted.

<span class="h4"><h4><a class="selflink" name="section-3.1.20" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.20">3.1.20</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.46.2">Section 2.46.2</a>, "numbered" Attribute</h4></span>

   The text indicates that only top-level sections may have
   numbered="false", and that a section with numbered="false" may not
   have a child section with numbered="true".  But that leaves no value
   that is valid for child sections of an unnumbered section: They
   cannot have numbered="false", since they are not top-level sections,



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 16]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-17" id="page-17" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-17" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   and they cannot have numbered="true", since the parent has
   numbered="false".

   Additionally, the prohibition against child sections having
   numbered="false" removes the option of truncating the ToC listing for
   some child sections; without providing a good explanation for this
   limitation, it seems arbitrary and counter-intuitive to disallow this
   feature.

   Proposal:  Permit sections which are not top-level sections to have
      numbered="false".

   Implementation:  In The current version of xml2rfc, child sections
      may have numbered="false".

<span class="h4"><h4><a class="selflink" name="section-3.1.21" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21">3.1.21</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.47">Section 2.47</a>, &lt;seriesInfo&gt;</h4></span>

<span class="h5"><h5><a class="selflink" name="section-3.1.21.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21.1">3.1.21.1</a>.  Too many possible combinations</h5></span>

   The possible and forbidden combinations of attributes for this
   element has now become so convoluted that it's really hard to
   understand how to use it correctly.  This needs a serious
   reconsideration.  New usages, with the purpose of replacing various
   attributes on the &lt;rfc&gt; element, have been added without any
   consistent pattern or table of permitted and forbidden combinations
   of values and attributes.

<span class="h5"><h5><a class="selflink" name="section-3.1.21.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21.2">3.1.21.2</a>.  The "name" Attribute</h5></span>

   The 'name' attribute is mandatory, and only 3 values are permitted:
   "RFC", "Interned-Draft", and "DOI", according to <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>.  But it is
   also mandatory to set the name to "" for a &lt;seriesInfo&gt; with a status
   attribute.  Hmm...

   So there are 4, not 3 permitted values: "RFC", "Internet-Draft",
   "DOI", and "".

   This means that all reference files which has things like name="ISO",
   name="W3C Recommendation", etc., etc., in the current reference
   library have have become illegal.











<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 17]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-18" id="page-18" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-18" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h5"><h5><a class="selflink" name="section-3.1.21.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21.3">3.1.21.3</a>.  Incompatibility between v2 and v3 schema</h5></span>

   The placement of &lt;seriesInfo&gt; elements within &lt;reference&gt; has changed
   in the v3 schema, in that it has been pulled into &lt;front&gt;, and the v2
   placement has been deprecated.  But this makes 'bibxml' reference
   files produced according to the v3 schema incompatible with v2
   processors, and would require us to maintain 2 separate quotation
   libraries.

<span class="h5"><h5><a class="selflink" name="section-3.1.21.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21.4">3.1.21.4</a>.  Inappropriate Introduction of the "stream" Attribute</h5></span>

   The v3 specification in [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] introduces two new attributes with
   semantic content, in addition to the ASCII versions of the pre-
   existing "name" and "value" attributes: "stream" and "status".

   The intention seems to be to deprecate attributes on &lt;rfc&gt;.  However,
   these attributes cannot have multiple values for a document, which
   makes the move to &lt;seriesInfo&gt;, which can occur multiple times,
   dubious.

<span class="h5"><h5><a class="selflink" name="section-3.1.21.5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.21.5">3.1.21.5</a>.  Summary</h5></span>

   The number of issues introduced with the move of the &lt;seriesInfo&gt;
   element and its re-purposing in order to fill functionality in the
   front of a document is wholly disproportionate with any added
   functionality.  The specification [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] does not provide any
   rationale for the changes, and there seems to be no major benefits to
   the new schema.

   Proposal:  Do a rewrite of this that does not add new details to the
      already complex &lt;seriesInfo&gt; semantics, compared to the v2
      vocabulary, and does not make non-IETF reference files obsolete,
      but actually simplifies the model and use.

      Limit the &lt;seriesInfo&gt; element to what is actually needed for use
      within &lt;reference/&gt;, and do not add new functionality related to
      the document &lt;front&gt;.  Deprecate any functionality not related to
      usage within &lt;reference/&gt;.

      The easiest approach would be to simply revert to the v2 semantics
      and placement of &lt;seriesInfo&gt; elements, with documentation of
      that.

   Implementation:  The current implementation does not strip or
      disregard the attributes on &lt;rfc&gt;; apart from that the schema is
      not reverted to v2 in the current implementation, but see also
      <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.17">Section 3.1.17</a>, <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.19">Section 3.1.19</a> and <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2.2">Section 3.2.2</a>.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 18]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-19" id="page-19" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-19" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-3.1.22" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.22">3.1.22</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.48">Section 2.48</a>, &lt;sourcecode&gt;</h4></span>

   The specification is not clear on emitting &lt;CODE BEGINS&gt; and &lt;CODE
   ENDS&gt; automatically when rendering &lt;sourcecode&gt;.  In some cases it
   would be helpful, in others not.

   Proposal:  Add an attribute 'markers' for &lt;sourcecode&gt;, to control
      the emission of &lt;CODE BEGINS&gt; and &lt;CODE ENDS&gt;.  If markers="true"
      and the "name" attribute is set, the filename will also be
      emitted, as specified in [<a href="https://tools.ietf.org/html/rfc8407" title="&quot;Guidelines for Authors and Reviewers of Documents Containing YANG Data Models&quot;">RFC8407</a>] for YANG modules.

   Implementation:  Implemented as proposed in the current version of
      xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-3.1.23" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.23">3.1.23</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.53.3">Section 2.53.3</a> and 2.53.4.</h4></span>

<span class="h5"><h5><a class="selflink" name="section-3.1.23.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.23.1">3.1.23.1</a>.  Unnecessary limitation on the use of "keepWithNext"</h5></span>

   Why keepWithNext only on &lt;t&gt;?  It would be very natural to expect to
   be able to say keepWithNext for 2 tables, or 2 figures, or 2 lists,
   or combinations thereof?

   Proposal:  Permit keepWithNext on all elements that can be siblings
      to &lt;t&gt;.

   Implementation:  Not in the current version of xml2rfc.

<span class="h5"><h5><a class="selflink" name="section-3.1.23.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.23.2">3.1.23.2</a>.  Violation of KISS and DRY principles</h5></span>

   keepWithNext on one element is equivalent with keepWithPrevious on
   the following element, provided the following element can have a
   keepWithPrevious attribute.  Providing both violates both KISS [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-KISS" title="&quot;KISS Principle&quot;">KISS</a>]
   and DRY (Don't Repeat Yourself) [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-DRY" title="&quot;Don&#39;t repeat yourself&quot;">DRY</a>].

   Proposal:  Keep only one of these two attributes, preferably
      keepWithNext.

   Implementation:  Not in the current version of xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-3.1.24" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.24">3.1.24</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2">Section 2</a>.X, &lt;u&gt;</h4></span>

   Thinking about being able to issue warnings both during xml2rfc
   processing and when running idnits, it seems very hard to distinguish
   between intentional and non-intentional inclusion of non-ASCII
   characters in document text.

   In addition to the problem of correctly detecting non-intentional use
   of Unicode characters, there is also the issue (for authors) of



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 19]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-20" id="page-20" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-20" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   correctly converting given Unicode characters to one of the forms
   recommended in [<a href="https://tools.ietf.org/html/rfc7997" title="&quot;The Use of Non-ASCII Characters in RFCs&quot;">RFC7997</a>], and the issue (for idnits) of verifying
   that any Unicode characters or strings are correctly represented as
   Unicode code-point values next to the literal character or string.

   One solution to this could be to not try to guess, or establish
   heuristics, but instead use a v3 schema element with preptool
   validation to ensure a straightforward solution to all the issues, as
   follows:

   Proposal: Limit the arbitrary placement of Unicode characters and
   strings in the body of a document, and control the expansion of the
   Unicode code-points by requiring that Unicode characters and strings
   be placed within a specific element if they are to occur in the body
   of a document.  Such an expansion is already mandated by <a href="https://tools.ietf.org/html/rfc7997#section-3.4">Section&nbsp;3.4
   of [RFC7997]</a>; but without schema support, it would be very hard for
   tools to enforce this.  The text in <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1">Appendix A.1</a> is proposed for
   inclusion in <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>-bis as a new section.

<span class="h4"><h4><a class="selflink" name="section-3.1.25" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.25">3.1.25</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.63.2">Section 2.63.2</a>, &lt;ul&gt; "empty" attribute</h4></span>

   In v2, this results in a list using space as the bullet, thus each
   list entry is indented as with other bullet symbols.  However, this
   leaves no way to get list entries with arbitrary text that are not
   indented, in order to produce lists such as that used in Table of
   Content and Index.

   Furthermore, the specification does not indicate if &lt;ul empty="true"&gt;
   should be rendered with space as a bullet, or without any bullet and
   indentation.  A clarification would be good.

   Proposal:  Specify that in text output, &lt;ul empty="true"&gt; should be
      rendered without any bullet and indentation.  In order to produce
      unordered lists that are indented, the "bullet" attribute
      mentioned in <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.10">Section 3.1.10</a> with a whitespace bullet could be
      used.

   Implementation:  The current version of xml2rfc introduces a new
      attribute "bare" with the possible values "false" | "true" to
      signal this.  The default is "true" (which differs from the
      default v2 implementation).  Using the extra attribute "bare"
      works, but is maybe clumsier than necessary.

<span class="h4"><h4><a class="selflink" name="section-3.1.26" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.26">3.1.26</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.66.1">Section 2.66.1</a>, &lt;xref&gt; "format" attribute</h4></span>







<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 20]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-21" id="page-21" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-21" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h5"><h5><a class="selflink" name="section-3.1.26.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.26.1">3.1.26.1</a>.  The "derivedContent" attribute</h5></span>

   For items in an ordered list, the "derivedContent" attribute should
   be set to the counter value for the item.  But that counter value is
   only known during rendering.  How is this supposed to work?

   Proposal:  In order to be able to set the "derivedContent" value, the
      preptool actually has to work through the list and derive the
      rendered counter.  If we accept this, [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-KISS" title="&quot;KISS Principle&quot;">KISS</a>] and [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-DRY" title="&quot;Don&#39;t repeat yourself&quot;">DRY</a>] both points
      in the direction of not discarding this value, but making a record
      of it, in the same manner as we make a record of "derivedContent"
      for &lt;xref&gt;.  To do this, add a "derivedCounter" for &lt;li&gt;, and fill
      it in with the calculated counter value.

   Implementation:  Implemented as proposed.

<span class="h5"><h5><a class="selflink" name="section-3.1.26.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.26.2">3.1.26.2</a>.  Referencing a &lt;dl&gt; entry</h5></span>

   It is specified that &lt;xref&gt; with format="counter" may reference
   sections, figures, tables, or ordered lists; but there does not seem
   to be any technical reason why this should not also be permitted for
   definition lists.

   Proposal:  Permit &lt;xref&gt; with format="counter" to also reference
      entries in definition list entries.

   Implementation:  Implemented as proposed.

<span class="h5"><h5><a class="selflink" name="section-3.1.26.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.26.3">3.1.26.3</a>.  Combined effects of &lt;xref&gt; text, and the "format" and</h5></span>
           "sectionFormat" attributes.

   If the &lt;relref&gt; functionality is folded into &lt;xref&gt; we are left with
   two format attributes, "format" and "sectionFormat".  We then need to
   clearly specify if and how they interact.  The following approach is
   suggested:

   The "format" attribute should have effect only on the content of the
   internal link to the cited &lt;reference&gt; entry.  If the "sectionFormat"
   attribute has a value of "bare", which does not cause any internal
   link to be rendered, the "format" attribute has no effect (or,
   possibly, is disallowed).

   The "sectionFormat" attribute should have effect only on the
   rendering of the external link part.  There is no "derivedSection"
   attribute to match the "derivedFormat" attribute, the "section"
   attribute value is used in combination with the "sectionFormat" value
   when rendering the external link.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 21]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-22" id="page-22" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-22" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   If an &lt;xref&gt; element with a "section" attribute value has text
   content, the text content is only used in the rendering of the
   internal link to the cited &lt;reference&gt;, with one exception: If the
   "sectionFormat" attribute value is "bare", then the &lt;xref&gt; text
   content is used to render a second external link in parentheses,
   after the initial external link that shows the external section
   number.

<span class="h4"><h4><a class="selflink" name="section-3.1.27" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.27">3.1.27</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.3">Section 3.3</a>, &lt;format&gt;</h4></span>

   The [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] text seems to be based on a misunderstanding of the
   purpose of the &lt;format&gt; element in pointing to alternative
   representations of a reference.  There seems to be no reason in
   removing this ability.  The current implementation does not remove
   alternative &lt;format&gt; entries when converting v2 to v3.  The <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>
   text should be adjusted accordingly, and in <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> it should be
   specified how to render links to alternative formats for a reference.

<span class="h4"><h4><a class="selflink" name="section-3.1.28" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.28">3.1.28</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.4.2">Section 3.4.2</a>, "hangIndent" Attribute</h4></span>

      "Deprecated.  Use &lt;dl&gt; instead."

   This causes capability loss.  The "hangIndent" attribute did not only
   signal that hanging indent should be used, but also gave the size of
   the indent.  No equivalent control has been provided for the &lt;dl&gt;
   element in the version 3 vocabulary.

   Proposal:  Provide an attribute "indent" on &lt;dl&gt; as suggested in
      <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.7">Section 3.1.7</a>.

   Implementation:  Not in the current version of xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-3.1.29" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.29">3.1.29</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-C">Appendix C</a>.  </h4></span>Relax NG schema

   The "colspan" attribute is given a default value of "0", this should
   be "1".  "0" is not otherwise defined in the text, and the only
   reasonable interpretation would be to hide the cell (make it occupy
   zero columns).

   The "rowspan" attribute is given a default value of "0", this should
   be "1".  "0" is not otherwise defined in the text, and the only
   reasonable interpretation would be to hide the cell (make it occupy
   zero rows).

   Proposal:  Change the default values of "colspan" and "rowspan" to 1.

   Implementation:  Done in the current version of xml2rfc.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 22]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-23" id="page-23" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-23" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-3.1.30" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.30">3.1.30</a>.  Use of the term "counter".</h4></span>

   The classical meaning of this term is a a monotonically increasing
   sequence of integers, globally unique or unique within a context.  In
   this document, it is instead meant to indicate section, table, figure
   numbers, which for sections are not plain counters.

   To make more interesting, in other contexts in the document, the
   notation "-nnn", which also would normally indicate a dash followed
   by digits, i.e., a counter, is also re-interpreted to include section
   numbers; strings of numbers including embedded period signs.  This is
   bad terminology.

   Proposal:  Instead of "counter", use "number" as the attribute value,
      and explicitly say "Section number, Figure number, Table number or
      ordered list labels" in the description.  Use "-n.n" instead of
      "-nnn".

   Implementation:  Not in the current version of xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-3.1.31" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.31">3.1.31</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.44">Section 2.44</a>, &lt;relref&gt;</h4></span>

   (This section is out of order so as to not change the section
   numbering of previous sections while work is onging on a rfc7991bis
   document.)

   The &lt;relref&gt; element has functionality that extends &lt;xref&gt;, and on
   first sight it is hard to distinguish the two.  It would be better to
   remove &lt;relref&gt; and just add section, relative, and displayFormat to
   &lt;xref&gt;.  Maybe change displayFormat to the earlier proposed
   'sectionFormat'.  (This point is also made in <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.22">Section 4.4.22</a>)

<span class="h3"><h3><a class="selflink" name="section-3.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2">3.2</a>.  <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a></h3></span>

<span class="h4"><h4><a class="selflink" name="section-3.2.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2.1">3.2.1</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.1.6">Section 5.1.6</a>, Attribute validation</h4></span>

   Some attribute validation beyond what the schema enforces is possible
   and desirable.  One example of this is to validate that all
   attributes which are expected to have integer values actually does
   so.  A section on this should be added.  The current implementation
   adds integer attribute validation and verification that apart from
   the name attributes of &lt;author&gt;, no attribute values have non-ASCII
   content.








<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 23]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-24" id="page-24" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-24" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-3.2.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2.2">3.2.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.6">Section 5.2.6</a>, Attribute Default Value Insertion</h4></span>

   The &lt;seriesInfo&gt; "stream" attribute has a default value of "IETF".
   The effect of setting default values after the XInclude processing is
   to set stream="IETF" on all reference &lt;seriesInfo&gt; which don't have a
   stream set.  This is probably not right.

   Proposal:  Remove the default value for the "stream" attribute from
      the &lt;seriesInfo&gt; element in the v3 schema.

   Implementation:  The current version of xml2rfc removes the default
      value for the "stream" attribute of &lt;seriesInfo&gt; from the schema.
      This is not a problem from a rendering perspecitve, since the
      "stream" attribute does not need to have a value in order for the
      &lt;seriesInfo&gt; to be rendered correctly (most instances of
      &lt;seriesInfo&gt; in the current bibxml library does not have a
      "stream" attribute set).

<span class="h4"><h4><a class="selflink" name="section-3.2.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.2.3">3.2.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.6">Section 5.4.6</a>, "pn" Numbering.</h4></span>

   The list of elements that are given p- or paragraph tags is severely
   limited, and since the presence of a pn= attribute is required in
   order to make internal &lt;xref&gt; instances work, this limits the
   elements to which it is possible to reference with HTML fragment
   identifiers.  Why?  Why are &lt;dt&gt; and &lt;li&gt; present, but not &lt;ol&gt;,
   &lt;dl&gt;, &lt;ul&gt;?

   Proposal:  Permit and provide "pn" numbers of type 'paragraph-nnn'
      for all block-level elements that don't have "pn" numbers
      otherwise specified.

   Implementation:  Not in the current version of xml2rfc, but the
      current version adds p- numbering to &lt;list&gt;, &lt;dl&gt;, &lt;dd&gt;, &lt;ol&gt;,
      &lt;ul&gt;, which all are allowed to have pn= attributes according to
      the schema.

<span class="h3"><h3><a class="selflink" name="section-3.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.3">3.3</a>.  Some attributes should have value type xsd:ID</h3></span>

   In generated HTML, the values set for "pn" and "slugifiedName" will
   be used as link targets, which makes a type of xsd:ID appropriate in
   the input format, as this will guarantee that they all have distinct
   values in the xml source.

   Proposal:  Change the "pn" and "slugifiedName" to type xsd:ID.

   Implementation:  Implemented in the current version of xml2rfc.





<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 24]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-25" id="page-25" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-25" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h2"><h2><a class="selflink" name="section-4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4">4</a>.  Non-Schema Issues</h2></span>

<span class="h3"><h3><a class="selflink" name="section-4.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1">4.1</a>.  <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a></h3></span>

<span class="h4"><h4><a class="selflink" name="section-4.1.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.1">4.1.1</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.5.7">Section 2.5.7</a>, "type" Attribute</h4></span>

<span class="h5"><h5><a class="selflink" name="section-4.1.1.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.1.1">4.1.1.1</a>.  How should a "src" attribute be handled when "type" is</h5></span>
<span class="h5"><h5>          missing.</h5></span>

   The v3 schema does not require the 'type' attribute on &lt;artwork&gt; to
   have a value, which makes sense when there's no &lt;artwork&gt; 'src'
   attribute to include.  But if there is a 'src' attribute, but no
   value for 'type', how should the 'src' value be handled?

   The easiest and most explicit handling would be to require a 'type'
   value if there is a 'src' attribute; a more doubtful alternative
   would be to use something like the Linux file magic command to try to
   guess at the content type that 'src' points at.

   Proposal:  Warn if there is a 'src' and no 'type' value, and ignore
      the 'src' in that case.

   Implementation:  The current version of xml2rfc implements this as
      proposed.

<span class="h5"><h5><a class="selflink" name="section-4.1.1.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.1.2">4.1.1.2</a>.  Missing information on how to handle various types</h5></span>

      "The RFC Series Editor will maintain a complete list of the
      preferred values on the RFC Editor web site, and that list is
      expected to be updated over time.  Thus, a consumer of v3 XML
      should not cause a failure when it encounters an unexpected type
      or no type is specified.  The table will also indicate which type
      of art can appear in plain-text output (for example, type="svg"
      cannot)."

   The RFC Series Editor has not yet provided such a table.  It is
   definitely desired, in order to be able to deal correctly with plain-
   text output.

<span class="h4"><h4><a class="selflink" name="section-4.1.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.2">4.1.2</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.8.1">Section 2.8.1</a>: Index</h4></span>

   There is no guidance on the structure of an index, if one is to be
   generated by the preptool.

   Proposal:  Please provide specification.

   Implementation:  The current version of xml2rfc provides the




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 25]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-26" id="page-26" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-26" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


      generation of index elements in the prepped XML, but makes no
      claim on the generated XML being optimal.

<span class="h4"><h4><a class="selflink" name="section-4.1.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.3">4.1.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.17">Section 2.17</a>, &lt;date&gt;</h4></span>

<span class="h5"><h5><a class="selflink" name="section-4.1.3.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.3.1">4.1.3.1</a>.  Current Date Requirement</h5></span>

      "When the prep tool is used to create Internet-Drafts, it will
      reject a submitted Internet-Draft that has a &lt;date&gt; element in the
      boilerplate for itself that is anything other than today."

   It is not up to the format definition to set policy for acceptance or
   rejection of draft submissions.  The matter is more complex than the
   text assumes, see for instance datatracker issue #2422.  In addition
   to being inappropriate, this text also quietly changes policy from
   +/- 3 days to +/- 0 days, without saying that it updates <a href="https://tools.ietf.org/html/rfc4228">RFC 4228</a>
   [<a href="https://tools.ietf.org/html/rfc4228" title="&quot;Requirements for an IETF Draft Submission Toolset&quot;">RFC4228</a>], which is the current specification of permissible dates in
   draft submissions.  Finally, enforcing this would cause _a lot_ of
   grief and problems.

   Proposal:  Remove the section.

   Implementation:  The current version of xml2rfc does not reject input
      based on the value of &lt;date&gt;, but warns if the date is more than 3
      days from the current date, in accordance with [<a href="https://tools.ietf.org/html/rfc4228" title="&quot;Requirements for an IETF Draft Submission Toolset&quot;">RFC4228</a>].

<span class="h5"><h5><a class="selflink" name="section-4.1.3.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.3.2">4.1.3.2</a>.  Date Specification in References</h5></span>

      "Bibliographic references: In dates in &lt;reference&gt; elements, the
      date information can have prose text for the month or year.  For
      example, vague dates (year="ca. 2000"), date ranges
      (year="2012-2013"), non-specific months (month="Second quarter"),
      and so on are allowed."

   The text regarding prose text for month and year in bibliographic
   references is not workable.  How should month and year be combined?
   Some bibliographic references may have date text which requires year
   first, others year last, and so on.  Mixing the described fuzziness
   into the otherwise strict year, month, date format makes little sense
   when the result of combining the year, month and date attributes
   cannot be predictably and correctly rendered.

   Proposal:  Instead of the current specification, permit either that
      the &lt;date&gt; element may have text content, or an alternative
      attribute to be used for rendering if year, month, or day cannot
      be specified exactly.





<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 26]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-27" id="page-27" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-27" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  The current version of xml2rfc permits the &lt;date&gt;
      element to have text content, as an alternative to year, month,
      and day attributes.

<span class="h4"><h4><a class="selflink" name="section-4.1.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.4">4.1.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.40.1">Section 2.40.1</a>, "anchor" Attribute</h4></span>

   <a href="https://tools.ietf.org/html/rfc7992#section-5.1">Section&nbsp;5.1 of RFC 7992</a> says in part:

      "The prep tool produces XML with anchor attributes in all elements
      that need them."

   This is rather vital information regarding the content of the prepped
   xml when building a formatter, unfortunately it is not mentioned in
   <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>.

   Proposal:  Add this information to the successor of <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>, and to
      the formatter specifications.

<span class="h4"><h4><a class="selflink" name="section-4.1.5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.5">4.1.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.48.4">Section 2.48.4</a>, "type" Attribute</h4></span>

   <a href="https://tools.ietf.org/html/rfc7992#section-5.1">Section&nbsp;5.1 of RFC 7992</a> says in part:

      "The prep tool produces XML with anchor attributes in all elements
      that need them."

   This is rather vital information regarding the content of the prepped
   xml when building a formatter, unfortunately it is not mentioned in
   <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>.

   Proposal:  Add this information to the successor of <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>, and to
      the formatter specifications.

<span class="h4"><h4><a class="selflink" name="section-4.1.6" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.6">4.1.6</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.1">Appendix A.1.1</a>: TLP switch-over date discrepancies</h4></span>

   There are discrepancies between the specified switch-over dates in
   the specification, and those given by the Trust statements:

   *  TLP3.0: The specification says 2009-11-01 but the TLP statement
      says effective date 2009-09-12.

   *  TLP4.0: The specification says 2010-04-01 but the TLP statement
      says effective date 2009-12-28.  The dates on which TLP 4 started
      to be use in published RFCs seems to match the stated effective
      date of 2009-12-28, based on a scan of some RFCs around that date.

   <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a> also states this about the pre5378 text: this text appears
   under "Copyright Notice", unless the document was published before
   November 2009, in which case it appears under "Status of This Memo".



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 27]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-28" id="page-28" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-28" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   This does not agree at all with what actual RFCs contain; they seem
   to consistently have this text under Copyright Notice.

   Proposal:  Correct the dates given in the document to indicate the
      official dates, and correct the text on placement of TLP to match
      actual usage.

   Implementation:  The current version of xml2rfc uses the official
      dates during the preptool processing, not the dates given in <a href="https://tools.ietf.org/html/rfc7991">RFC</a>
      <a href="https://tools.ietf.org/html/rfc7991">7991</a>.

<span class="h4"><h4><a class="selflink" name="section-4.1.7" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.1.7">4.1.7</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-B.2.1">Appendix B.2.1</a>: Generation of PN numbers</h4></span>

   The current specification says:

      -  "pn" for all elements not listed above always has the format
         "p-nnn-mmm", where "nnn" is the section number and "mmm" is the
         relative position in the section.  For example, this would be
         "p-2.1.3-7" for the seventh part number in <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.1.3">Section 2.1.3</a>.

   However, this will result in counting up the part numbers for
   invisible parts, when numbered elements are contained within
   enclosing numbered block elements.

   The current implementation instead uses the same "pn" numbering
   scheme as Julian Reschke's vocabulary v3 XSLT processor, where both
   the section number part and the relative position within the section
   has hierarchical numbering.  For instance, the second element in
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.1">Section 2.1</a> would have a pn number of "section-2.1-2", and assuming
   it is a dl element, the first dt element within the dl in <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-2.1">Section 2.1</a>
   would have a pn number of "section-2.1-2.1".

<span class="h3"><h3><a class="selflink" name="section-4.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2">4.2</a>.  <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a></h3></span>

<span class="h4"><h4><a class="selflink" name="section-4.2.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.1">4.2.1</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.1">Section 5.1</a>, IDs</h4></span>

   The current specification says:

      HTML elements that are generated from XML elements that include an
      "anchor" attribute will use the value of the "anchor" attribute as
      the value of the "id" attribute of the corresponding HTML element.
      The prep tool produces XML with "anchor" attributes in all
      elements that need them.  Some HTML constructs (such as &lt;section&gt;)
      will use multiple instances of these identifiers.

   But I believe HTML5 does not permit more than one "id" attribute per
   element, which begs the question of how &lt;section&gt; will use multiple
   instances of identifiers?



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 28]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-29" id="page-29" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-29" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.2.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.2">4.2.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6.2">Section 6.2</a>, Root Element</h4></span>

   Typo:

   OLD: &lt;seriesInfo&gt; element's "name" attributes

   NEW: &lt;seriesInfo&gt; elements' "name" attributes

<span class="h4"><h4><a class="selflink" name="section-4.2.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.3">4.2.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6.4">Section 6.4</a>, Page Headers and Footers</h4></span>

   This is incomplete.  It gives an example, but does not specify how it
   is to be filled in.

   Is the formatter expected to fill out the cells, based on the pattern
   given, or is that supposed to happen magically based on WD-
   css3-page-20130314 ?

   If the cell content is supposed to be provided by the formatter, it
   would be good to have a bit more specification than the example; if
   not, it would be nice for that to be stated explicitly.

   The mention of the '[Page]' placeholder could be taken as an
   indication that all cell content shown are placeholders, but are
   they, really?

   Implementation:  The current implementation has code to insert
      placeholder HTML, but not code to fill in the cells with actual
      information from the document.  Since this is meaningless if the
      guess is wrong, this code has been disabled for now.

<span class="h4"><h4><a class="selflink" name="section-4.2.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.4">4.2.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6.5">Section 6.5</a>, Document Information</h4></span>

   This information seems to be scrambled and incomplete.  It suggests
   the use of 'Status:' for what is otherwise called 'Category:'.  It
   simplifies the presentation of series information to the point that
   no clue is given of how to handle the two bits of information related
   to series name and series number -- the example shows 'Series:'
   'Internet-Draft', which gives no guidance at all.  There is no
   mention of whether to display 'Obsoletes:' and 'Updates:' information
   or not.

   On a more general note, this is the second section where an
   incomplete example is provided instead of specification.  Examples
   are however not replacements for proper specification; they are at
   best a help in making a specification real to the user.  Both this
   section and <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.3">Section 4.2.3</a> needs to be expanded to provide a complete
   specification.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 29]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-30" id="page-30" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-30" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Styling query: The example gives the style of the element that holds
   author initials the class 'initial' while the attribute is
   appropriately named 'initials'.  Is the difference in attribute and
   style names intentional?  In any case, 'initials' would be more
   appropriate.

   Implementation:  Instead of trying to follow what's written, the
      current implementation tries to provide the same fields and
      information which is provided by the text/plain formatter, in a
      sensible way.  This is guesswork.

      The implementation also has used the sample HTML document for
      guidance here, in order to be able to progress with something that
      works with the style sheet from the RFC-Format CSS project.

<span class="h4"><h4><a class="selflink" name="section-4.2.5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.5">4.2.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-8.1.1">Section 8.1.1</a>, Index Contents</h4></span>

   The index has an extra &lt;div&gt; enclosing the contents, starting
   directly after &lt;h2&gt;, while sections explicitly does not have a div
   here.  This irregularity seems quite unnecessary, but makes the
   formatter code more complex than need be.  Could we please align the
   two?

<span class="h4"><h4><a class="selflink" name="section-4.2.6" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.6">4.2.6</a>.  Inconsistent use of "s-", "n-" and User-Supplied "id" Attributes</h4></span>

   <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a> [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] specifies an attribute "slugifiedName" on &lt;name&gt;,
   but does not specify how it is to be used.  <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a> [<a href="https://tools.ietf.org/html/rfc7998" title="&quot;xml2rfc&quot;">RFC7998</a>]
   specifies how to create these, but not how they should be used.  In
   <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a>, slugified names, with an "n-" (or "name-") prefix, are
   sometimes used on sections, sometimes not.  "s-" (or "section-") IDs
   are sometimes used on &lt;h2&gt; and other header elements, sometimes on
   paragraph, divs, asides, blockquotes etc.  <a href="https://tools.ietf.org/html/rfc7992#section-9.33">Section&nbsp;9.33 of [RFC7992]</a>
   even uses a reference to an "n-" ID that doesn't exist, although it
   clearly should, based on the section name.  This is a mess.

   Implementation:  The implementation consistently transfers the
      "slugifiedName" attribute on &lt;name&gt; to an "id" attribute on the
      &lt;h2&gt; or other header element generated from the name.
      Section numbers ("s-" or "section-" values) from "pn" attributes
      are consistently transferred to the &lt;section&gt;, &lt;p&gt; or other HTML
      element generated from the XML element on which they appear.
      User-supplied "anchor" attributes on XML elements are consistently
      transferred to a &lt;div&gt; inside the HTML element generated from the
      XML element with the anchor, encapsulating the content generated
      from the XML element.






<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 30]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-31" id="page-31" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-31" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.2.7" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.7">4.2.7</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.2">Section 9.2</a>, &lt;address&gt;</h4></span>

   The example reiterates an abbreviated form of the xml given under
   &lt;author&gt;, as if there was no difference between the rendering of
   &lt;address&gt; and &lt;author&gt;.  Furthermore, the example shows only
   rendering of elements which are _not_ part of &lt;address&gt;; any
   rendering of the elements contained within &lt;address&gt; is omitted.
   This is misleading, in particular since rendering of the individual
   child elements (&lt;postal&gt;, &lt;phone&gt; , &lt;facsimile&gt; , &lt;email&gt;, and &lt;uri&gt;)
   _has_ been specified to have explicit renderings.

   Given that the specification text is reasonable for author name and
   org, but nonsense for the &lt;address&gt; element, the following text has
   been assumed during implementation:

   The &lt;address&gt; element will be rendered as a sequence of &lt;div&gt;
   elements, each corresponding to a child element of &lt;address&gt;, and
   enclosed in the same &lt;address&gt; element as the name, role, and
   organization information.  Element classes will be taken from hCard
   [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-HCARD" title="&quot;hCard 1.0&quot;">HCARD</a>], as specified on <a href="http://microformats.org/wiki/hcard">http://microformats.org/wiki/hcard</a>.

   This is the mapping used by xml2rfc from the address fields to hCard
   properties:

        +--------------------+-----------------+------------------+
        | i18n address field | xml2rfc element | hCard property   |
        +====================+=================+==================+
        | -                  | &lt;extaddr&gt;       | extended-address |
        +--------------------+-----------------+------------------+
        | street_address     | &lt;street&gt;        | street-address   |
        +--------------------+-----------------+------------------+
        | sorting_code       | &lt;sortingcode&gt;   | postal-code      |
        +--------------------+-----------------+------------------+
        | postal_code        | &lt;code&gt;          | postal-code      |
        +--------------------+-----------------+------------------+
        | city_area          | &lt;cityarea&gt;      | locality         |
        +--------------------+-----------------+------------------+
        | city               | &lt;city&gt;          | locality         |
        +--------------------+-----------------+------------------+
        | country_area       | &lt;region&gt;        | country-area     |
        +--------------------+-----------------+------------------+
        | country_name       | &lt;country&gt;       | country-name     |
        +--------------------+-----------------+------------------+
        | -                  | &lt;pobox&gt;         | post-office-box  |
        +--------------------+-----------------+------------------+

                                  Table 1




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 31]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-32" id="page-32" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-32" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.2.8" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.8">4.2.8</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.7.2">Section 9.7.2</a>, Authors of this Document</h4></span>

   <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a> gives the text separating the ASCII and non-ASCII address
   information as "Additional contact information:".

   <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a> manages to convey the desired rendering order of ASCII and
   non-ASCII address information without any americentric language, but
   <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> talks about the non-ASCII version as 'fallback'.  As a non-
   native English speaker raised speaking and writing 2 languages that
   both have alphabets with non-ASCII letters, the author of this memo
   finds the language in <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> somewhat offensive, and suggests that
   it be removed from the document.

   The current xml2rfc implementation uses the layout and wording given
   in <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a>, not <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a>.

   Furthermore, the document also says:

      "When the &lt;author&gt; element, or any of its descendant elements, has
      any attribute that starts with "ascii", all of the author
      information is displayed twice. ..."

   This is in conflict with <a href="https://tools.ietf.org/html/rfc7997#section-3.2">[RFC7997], Section&nbsp;3.2</a>, which indicates that
   the determining factor for displaying both non-ASCII and ASCII author
   information is whether a script outside the Unicode Latin blocks is
   used for the primary information.  The current implementation checks
   for this, rather than going by the presence of attributes with an
   'ascii' prefix.

<span class="h4"><h4><a class="selflink" name="section-4.2.9" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.9">4.2.9</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.7.3">Section 9.7.3</a>, Authors of References</h4></span>

   Information is completely missing on how to render non-ascii name
   information in references.

<span class="h4"><h4><a class="selflink" name="section-4.2.10" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.10">4.2.10</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.16">Section 9.16</a>, &lt;cref&gt;</h4></span>

   The text does not mention how to deal with &lt;cref&gt;s with
   display="false".  Presumably by not displaying them; but if there
   exists internal links to the &lt;cref&gt; anchor, completely omitting the
   rendering could cause breakage.  The current xml2rfc implementation
   handles this by inserting an empty HTML &lt;span&gt; with the appropriate
   id attribute.









<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 32]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-33" id="page-33" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-33" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.2.11" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.11">4.2.11</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.24">Section 9.24</a>, &lt;eref&gt;</h4></span>

   No handling is provided for the case where the &lt;eref&gt; element is
   empty, which would result in an empty (and invisible) HTML &lt;a&gt;
   element.  The current implementation in this case instead inserts a
   span containing '&lt;', an &lt;a&gt; with appropriate href and the target URL
   as text, and '&gt;'.

<span class="h4"><h4><a class="selflink" name="section-4.2.12" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.12">4.2.12</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.25">Section 9.25</a>, &lt;figure&gt;</h4></span>

   The specified HTML rendering will result in a figure title text which
   links to itself.  With the caption placed below the figure, this
   means that if you click on the title, the figure will scroll up above
   the browser window.  This is not particularly useful.

   The current implementation instead inserts an empty &lt;span&gt; as the
   first element of the figure, and gives it an id attribute with the
   value set to the slugifiedName attribute of the &lt;name&gt; element, in
   order to make the link from the figure caption text useful.

<span class="h4"><h4><a class="selflink" name="section-4.2.13" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.13">4.2.13</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.27">Section 9.27</a>, &lt;iref&gt;</h4></span>

   The text refers to the "irefid" attribute.  Interpreted as meaning
   the "pn" attribute, as the schema has no "irefid" attribute.

<span class="h4"><h4><a class="selflink" name="section-4.2.14" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.14">4.2.14</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.33">Section 9.33</a>, &lt;note&gt;</h4></span>

   Typo: s/"yes"/"true"/

<span class="h4"><h4><a class="selflink" name="section-4.2.15" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.15">4.2.15</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.34">Section 9.34</a>, &lt;ol&gt;</h4></span>

   The &lt;ol&gt; element has no "style" attribute.  The implementation
   assumes "type" instead.

<span class="h4"><h4><a class="selflink" name="section-4.2.16" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.16">4.2.16</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.35">Section 9.35</a>, &lt;organization&gt;</h4></span>

   The text here is in conflict with <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a> with respect to rendering
   the Authors' Addresses section.  <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a> describes rendering two
   sets of full information, one ASCII and one non-ASCII, not a single
   &lt;div&gt; where the non-ASCII name is given first, followed by the ASCII
   version as needed.

<span class="h4"><h4><a class="selflink" name="section-4.2.17" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.17">4.2.17</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.36">Section 9.36</a>, &lt;phone&gt;</h4></span>

   The text here is in conflict with the use of 'type' in vCard and
   hCard.  Telephone number type annotations identify things like 'Home'
   and 'Work'.  The current implementation does not add the uppercase
   VOICE type annotation.



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 33]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-34" id="page-34" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-34" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.2.18" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.18">4.2.18</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.37">Section 9.37</a>, &lt;postal&gt;</h4></span>

   The current specification says:

      This element renders as an HTML &lt;div&gt; with CSS class "adr", unless
      it contains one or more &lt;postalLine&gt; child elements; in which
      case, it renders as an HTML &lt;pre&gt; element with CSS class "label".

   Handling &lt;postalLine&gt; elements this way violates the hCard [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-HCARD" title="&quot;hCard 1.0&quot;">HCARD</a>]
   specification.  They will instead be rendered as hCard elements with
   class "extended-address" within the same &lt;div&gt; with CSS class "adr"
   as other &lt;postal&gt; sub-elements.

   The specification continues to enforce American postal address
   structure on addresses that don't use &lt;postalLine&gt;.  This has been
   changed in the current implementation; instead of using the fixed
   American layout for all countries, the formatting has been adapted to
   use country-specific formatting for all recognised country names and
   codes.

   ( The implementer considered applying a non-US postal address layout
   for all US addresses, to see how swiftly this would raise hue and cry
   and be labelled a bug, but in the interest of not causing unnecessary
   upset resisted the urge. )

<span class="h4"><h4><a class="selflink" name="section-4.2.19" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.19">4.2.19</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.40">Section 9.40</a>, &lt;reference&gt;</h4></span>

<span class="h5"><h5><a class="selflink" name="section-4.2.19.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.19.1">4.2.19.1</a>.  Misleading example</h5></span>

   <a href="https://tools.ietf.org/html/rfc7992#section-9.41">Section&nbsp;9.41 of [RFC7992]</a> shows &lt;referencegroup&gt; being rendered as
   &lt;dt&gt;, &lt;dd&gt;, while the example for this section shows one reference
   being rendered as &lt;dl&gt; &lt;dt&gt; &lt;dd&gt; &lt;/dl&gt;.  This is contradictory.
   Which one is right?  The CSS class on &lt;dl&gt;, which is specified as
   class="reference" points in the direction that each individual
   &lt;reference&gt; entry should be rendered as one &lt;dl&gt; with one set of &lt;dt&gt;
   &lt;dd&gt;, while it would seem much more logical to render the list of
   references as one single list holding all the references.

   The current xml2rfc implementation renders &lt;references&gt; as a section
   containing one &lt;dl&gt;, and each individual &lt;reference&gt; or
   &lt;referencegroup&gt; as a &lt;dt&gt; &lt;dd&gt; pair within that list.  To match
   this, the CSS class used is 'references' rather than 'reference'.









<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 34]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-35" id="page-35" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-35" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h5"><h5><a class="selflink" name="section-4.2.19.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.19.2">4.2.19.2</a>.  Anchor handling disregards &lt;displayreference&gt;</h5></span>

   There is no mention in the description of the HTML rendering of
   &lt;reference&gt; of the effects of &lt;displayreference&gt;, which definitely
   needs to be considered.  Emitting the original anchor value from the
   reference entry (which often comes from the bibxml reference library)
   would make the emitted reference labels wrong when there is a
   &lt;displayreference&gt; entry for the reference.  The most straightforward
   approach would be to add an attribute "derivedAnchor" to &lt;reference&gt;
   and have the preptool set it.

   Proposal:  Add an attribute "derivedAnchor" to &lt;reference&gt;.  Specify
      in [<a href="https://tools.ietf.org/html/rfc7998" title="&quot;xml2rfc&quot;">RFC7998</a>] that this is set by the preptool, and update
      [<a href="https://tools.ietf.org/html/rfc7991" title="&quot;The &quot;">RFC7991</a>] and [<a href="https://tools.ietf.org/html/rfc7992" title="&quot;HTML Format for RFCs&quot;">RFC7992</a>] accordingly.

   Implementation:  Implemented as proposed.

<span class="h5"><h5><a class="selflink" name="section-4.2.19.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.19.3">4.2.19.3</a>.  Handling of author lists in &lt;reference&gt; is under-specified</h5></span>

   The example shows the 'and' between author names within a span
   (unclear why) but does not show how to handle commas separating
   authors.  The style examples on github do not enclose commas or 'and'
   in a span, which seems reasonable.  Going with the style example
   files here.  <a href="https://tools.ietf.org/html/rfc7992#section-9.7.3">Section&nbsp;9.7.3 of RFC 7992</a> gives an example without 'and'
   enclosed in a span, contradicting <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.40">Section 9.40</a> of the same RFC.

   Trying to sort out the rendering of author names in references by
   looking at other sources than <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> reveals that the CSS samples
   show dual reference entries, one with ascii names and another with
   non-ascii names.  This contradicts <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a>, which shows a single
   reference entry where the non-ascii author names are given with the
   ascii equivalent in parentheses.

   The current implementation follows <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a> in this respect, not <a href="https://tools.ietf.org/html/rfc7992">RFC</a>
   <a href="https://tools.ietf.org/html/rfc7992">7992</a>.

<span class="h4"><h4><a class="selflink" name="section-4.2.20" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.20">4.2.20</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.41">Section 9.41</a>, &lt;referencegroup&gt;</h4></span>

   This element is a sibling to &lt;reference&gt;, and &lt;reference&gt; is
   described as being rendered as a &lt;dl&gt; with one set of &lt;dt&gt;, &lt;dd&gt;
   child elements.

   However, &lt;referencegroup&gt; is specified to be rendered as a &lt;dt&gt;, &lt;dd&gt;
   set, *without* any containing &lt;dl&gt;.  The individual reference entries
   are then specified to be rendered as &lt;div&gt;s inside the &lt;dd&gt;

   1.  This produces invalid HTML, because there is no containing &lt;dl&gt;




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 35]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-36" id="page-36" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-36" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   2.  Why isn't this rendered as a &lt;dl&gt; with multiple &lt;dd&gt; entries?
       That would make the styling much more consistent.

<span class="h4"><h4><a class="selflink" name="section-4.2.21" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.21">4.2.21</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.42">Section 9.42</a>, &lt;references&gt;</h4></span>

   The specification says that this is to be rendered as a &lt;section&gt;.
   However, if &lt;reference&gt;s and &lt;referencegroup&gt;s are to be rendered as
   &lt;dt&gt;, &lt;dd&gt;, then this element needs to be rendered as &lt;section&gt; &lt;dl&gt;
   ... &lt;/dl&gt; &lt;/section&gt;

<span class="h4"><h4><a class="selflink" name="section-4.2.22" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.22">4.2.22</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.54">Section 9.54</a>, &lt;table&gt;</h4></span>

   <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> says: "This element is directly rendered as its HTML
   counterpart."

   This ignores the special processing needed to insert a &lt;caption&gt;
   element.  The current implementation handles this appropriately.  The
   specification should be updated.

<span class="h4"><h4><a class="selflink" name="section-4.2.23" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.23">4.2.23</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.56">Section 9.56</a>, &lt;td&gt;</h4></span>

   <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> says: "This element is directly rendered as its HTML
   counterpart."

   However, that is not correct.  An appropriate style class needs to be
   inserted to honour the "align" attribute.  The classes "alignLeft",
   "alignCenter", and "alignRight" of the provided CSS are geared
   towards block alignment; here text alignment is needed.  The current
   implementation uses "text-left", "text-center", and "text-right", and
   provides appropriate CSS entries.  (These attribute names matches the
   equivalent bootstrap names.)

<span class="h4"><h4><a class="selflink" name="section-4.2.24" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.24">4.2.24</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.58">Section 9.58</a>, &lt;th&gt;</h4></span>

   <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a> says: "This element is directly rendered as its HTML
   counterpart."

   However, that is not correct.  An appropriate style class needs to be
   inserted to honour the "align" attribute.  The classes "alignLeft",
   "alignCenter", and "alignRight" of the provided CSS are geared
   towards block alignment; here text alignment is needed.  The current
   implementation uses "text-left", "text-center", and "text-right", and
   provides appropriate CSS entries.  (These attribute names matches the
   equivalent bootstrap names.)







<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 36]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-37" id="page-37" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-37" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.2.25" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.25">4.2.25</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.60">Section 9.60</a>, &lt;title&gt;</h4></span>

   This section completely lacks specification on how to render title
   elements with non-Latin content and an "ascii" attribute.

<span class="h4"><h4><a class="selflink" name="section-4.2.26" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.26">4.2.26</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.66">Section 9.66</a>, &lt;xref&gt;</h4></span>

   The specification says:

      ... If the "format" attribute has the value "default", and the
      "target" attribute points to a &lt;reference&gt; or &lt;referencegroup&gt;
      element, then the generated &lt;a&gt; element is surrounded by square
      brackets in the output.

   However, inspection of actual usage indicates that a better rendering
   would be to surround the generated &lt;a&gt; with square brackets only for
   empty &lt;xref&gt; elements; when there is content, usage indicates that
   authors provide enclosing parentheses or not depending on
   circumstances.  Since in HTML rendering the brackets are not
   necessary to provide a clue that this refers to other content (unlike
   the text case), the square brackets could be omitted when the &lt;xref&gt;
   element contains text.  The current implementation does so.

<span class="h4"><h4><a class="selflink" name="section-4.2.27" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.2.27">4.2.27</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-9.18">Section 9.18</a>, &lt;dd&gt;</h4></span>

   (This section is out of order so as to not change the section
   numbering of previous sections while work is onging on a rfc7991bis
   document.)

   The text does not mention pilcrow insertion.  Having pilcrows on
   other list items, but not on this one turns out to be surprising to
   users.  Applying the same text about pilcrow insertion as for other
   list entries seems indicated: "If there is no contained element that
   has a pilcrow (<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2">Section 5.2</a>) attached, a pilcrow is added."

<span class="h3"><h3><a class="selflink" name="section-4.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.3">4.3</a>.  <a href="https://tools.ietf.org/html/rfc7994">RFC 7994</a></h3></span>

<span class="h4"><h4><a class="selflink" name="section-4.3.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.3.1">4.3.1</a>.  Additional Guidance</h4></span>

   *  &lt;aside&gt;: Guidance requested on the rendering.  Now rendered with
      an indentation of 9 relative to surrounding text

   *  &lt;blockquote&gt;: Guidance requested on the rendering.  Now rendered
      with an indentation of 3 spaces, pipe(|), two spaces relative to
      surrounding text.

   *  &lt;sub&gt;: Guidance requested.  Now rendered as _(text)




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 37]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-38" id="page-38" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-38" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   *  &lt;sup&gt;: Guidance requested.  Now rendered as ^(text)

   *  &lt;tt&gt;: Guidance requested.  Now rendered as "text"

   *  Guidance for &lt;eref&gt; rendering.  In the HTML formatter, handling of
      &lt;eref&gt; is straightforward and is specified; it simply translates
      to an external link.  In the legacy text formatter, &lt;eref&gt; was
      handled by inserting an extra &lt;references&gt; subsection called
      "URLs", and adding reference entries for the URLs there, while the
      &lt;eref&gt; citation point got a trailing numeric reference number.
      With the preptool output becoming the authoritative published
      document, this difference won't be reflected in the xml.  The two
      formats would be more aligned if the text formatter renders &lt;eref&gt;
      URLs inline.

      Proposal:  Change the rendering of &lt;eref&gt; in text to render the
         URL inline within parentheses instead of adding the 'URLs'
         reference subsection.

      Implementation:  Implemented in the current version of xml2rfc.

<span class="h3"><h3><a class="selflink" name="section-4.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4">4.4</a>.  <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a></h3></span>

<span class="h4"><h4><a class="selflink" name="section-4.4.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.1">4.4.1</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.3">Section 5.2.3</a>, &lt;date&gt; Insertion</h4></span>

   Error if any of year, month, day is missing:

   It is an unnecessary and unwanted restriction when not in RFC
   processing mode to given an error for missing date elements.  Missing
   date elements have been permitted because they make it easier for
   draft authors to rev drafts without having to pay attention to the
   date values every time they generate new output.  This requirement
   should apply only to RFC prepping mode, and only in part:

   In RFC processing mode, this implicitly changes the RFC-Editor policy
   regarding publication dates, which earlier have specified only year
   and month (except for April 1st RFCs).  Is this intentional?

   Proposal:  Remove this restriction for draft mode, and modify it to
      require only year and month in RFC mode.

   Implementation:  The current version of xml2rfc warns if not all
      three elements are present in RFC mode.  The tool author considers
      even this inappropriate.

      In Internet-Draft mode, the current implementation handles missing
      elements the same way that the v2 formatters do.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 38]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-39" id="page-39" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-39" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.4.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.2">4.4.2</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.4">Section 5.2.4</a>, "prepTime" Insertion</h4></span>

   This is under-specified, given the detailed requirements on the
   &lt;date&gt; attributes.  Should probably be specified as format according
   to [<a href="https://tools.ietf.org/html/rfc3339" title="&quot;Date and Time on the Internet: Timestamps&quot;">RFC3339</a>], with year, month, day, hour, minute, and second.

   Proposal:  Specify the format as <a href="https://tools.ietf.org/html/rfc3339">RFC3339</a> compliant with resolution at
      least down to a second.

   Implementation:  Implemented as <a href="https://tools.ietf.org/html/rfc3339">RFC3339</a> with year, month, and day up
      to version 2.10.3; changed to the proposal above in the next
      release.

<span class="h4"><h4><a class="selflink" name="section-4.4.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.3">4.4.3</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.6">Section 5.2.6</a>, Attribute Default Value Insertion</h4></span>

   All the default values in 7991 are also expressed in the v3.rnc
   schema.  Remove text indicating otherwise.  And by the way, it was
   very helpful to extract these from the schema programmatically;
   having them specified otherwise would make it much harder to follow a
   changing schema.

   A number of attributes which are deprecated have default values.  The
   current specification will cause those to be inserted, even if they
   have been removed earlier by the v2v3 converter because they are
   deprecated.  This seems inconsistent.

   Proposal:  Omit deprecated attributes from the default-setting.

   Implementation:  Not in the current version of xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-4.4.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.4">4.4.4</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.7">Section 5.2.7</a>, "toc" Attribute</h4></span>

   It's specified that sections with &lt;boilerplate&gt; ancestors should have
   toc="exclude", but this won't then affect &lt;boilerplate&gt; sections
   which are inserted as part of the processing in 5.4.2.  It would make
   more sense to move this processing to after 5.4.2.

   The logic in the second bullet is flawed.  First it says to set
   elements with children with toc="include" to "include", but then it
   says that it is an error if they are set to "exclude".  Either there
   should be a warning, and the toc= attribute should be updated, or
   there should be an error and termination.  Not both.

   Proposal:  Move 5.2.7 processing to after 5.4.2, or specify that a
      second pass should be done after boilerplate insertion.  If a
      parent to a section with toc="include" has toc="exclude", an error
      should be generated.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 39]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-40" id="page-40" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-40" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  In order to do the actions of 5.2.7 for boilerplate,
      a second pass is made after boilerplate insertion in the current
      version of xml2rfc.  Handling of inconsistent "toc" attribute
      settings is implemented as proposed.

<span class="h4"><h4><a class="selflink" name="section-4.4.5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.5">4.4.5</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2.8">Section 5.2.8</a>, "removeInRFC" Warning Paragraph</h4></span>

   This potentially inserts a new &lt;t&gt; element, but after the default
   setting in 5.2.6.

   Proposal:  Maybe place default setting after all potential element
      insertions have taken place.

   Implementation:  The current version of xml2rfc deals with this by
      adding default-setting of attributes individually on each new
      elements as they are inserted.  This works, but is more complex
      and probably less efficient than doing default-setting once, after
      any new elements have been inserted.

<span class="h4"><h4><a class="selflink" name="section-4.4.6" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.6">4.4.6</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3.1">Section 5.3.1</a>, "month" Attribute</h4></span>

      "Normalise the values of "month" attributes in all &lt;date&gt; elements
      in &lt;front&gt; elements in &lt;rfc&gt; elements to numeric values."

   Is that 'in' a direct descendant relationship, or any descendant?
   I.e., does this affect &lt;date&gt; elements in included &lt;reference&gt;
   elements?  Unclear.  (<a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> is much clearer on this point, but
   that's not an excuse for being unclear here).

   Proposal:  Clarify the text.

<span class="h4"><h4><a class="selflink" name="section-4.4.7" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.7">4.4.7</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3.2">Section 5.3.2</a>, ASCII Attribute Processing</h4></span>

   The uppercasing of 'ascii' in the section &lt;name&gt; is incorrect in this
   case; the attribute name is explicitly 'ascii', not 'ASCII'.  The
   section name should be '"ascii" Attribute Processing'.

   Proposal:  Change the title 'ASCII Attribute Processing' to refer
      correctly to the "ascii" attribute: '"ascii" Attribute
      Processing'.

      "In every &lt;author&gt; element ..."

   After the earlier XInclude processing, this will include all the
   author elements in the included references, which the document author
   should not normally change in any way.  Was this the intention?

   Proposal:  Limit it to /rfc/front/author' elements.



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 40]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-41" id="page-41" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-41" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  Implemented in the current version of xml2rfc.

   &lt;title&gt; and &lt;postalLine&gt; also has an "ascii" attribute - is it a
   mistake that they are not mentioned here?  Assuming so, for the
   preptool implementation.

   What about the ascii* attributes on author?  Assuming they should be
   processed the same way.

   Proposal:  Process all "ascii" attributes in the document &lt;front&gt; as
      specified, and ignore those within &lt;references&gt;

   Implementation:  Implemented as proposed.

<span class="h4"><h4><a class="selflink" name="section-4.4.8" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.8">4.4.8</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3.4">Section 5.3.4</a>: "keepWithNext" Normalisation</h4></span>

   Proposal:  The new section should specify normalisation of
      keepWithNext/keepWithPrevious such as to replace all
      keepWithPrevious with an equivalent keepWithNext on the previous
      element, in case the proposal in <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.23.2">Section 3.1.23.2</a> is not accepted.

   Implementation:  Not in the current version of xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-4.4.9" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.9">4.4.9</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2">Section 5.4.2</a>, &lt;boilerplate&gt; Insertion: Only for RFCs?</h4></span>

      "Create a &lt;boilerplate&gt; element if it does not exist.  If there
      are any children of the &lt;boilerplate&gt; element, produce a warning
      that says "Existing boilerplate being removed.  Other tools,
      specifically the draft submission tool, will treat this condition
      as an error" and remove the existing children."

   Should this be done in both I-D mode and RFC mode?  The trouble is
   that the following subsections only describes the boilerplate
   relevant to an RFC; there's additional boilerplate that is needed for
   drafts.  I don't think it's reasonable to have a draft with only
   parts of the boilerplate contained in a boilerplate section.

   Proposal:  The boilerplate-element insertion parts of 5.4.2 should be
      done in both RFC and draft mode, with the appropriate boilerplate
      for each case.  For consistency, either add text to describe the
      appropriate boilerplate for drafts, or remove the sections
      specific to RFC boilerplate.

   Implementation:  The current version of xml2rfc inserts boilerplate
      for both drafts and RFCs, as appropriate.






<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 41]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-42" id="page-42" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-42" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h4"><h4><a class="selflink" name="section-4.4.10" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.10">4.4.10</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2">Section 5.4.2</a>, &lt;boilerplate&gt; Insertion: Error Message</h4></span>

   This section also specifies an error message to be used verbatim; the
   troublesome thing is that it's not clear what it means.  The message
   is: "Existing boilerplate being removed.  Other tools, specifically
   the draft submission tool, will treat this condition as an error".
   What is it that the draft submission tool is going to treat as an
   error?  The presence of boilerplate?  Why?  The removal of
   boilerplate?  How is that related to draft submission?  This is very
   jumbled.

   Proposal:  If existing boilerplate is found, issue a warning and
      replace it.

      For other tools, suggest that if boilerplate is present during
      draft submission, it should be checked for validity.  This is
      already a function of idnits, so does not constitute anything new,
      but is decidedly better than having the submission tool actually
      reach into the submitted document and change it.

   Implementation:  In the current version of xml2rfc this is
      implemented as proposed, with the following warning if existing
      boilerplate is found: "Expected no &lt;boilerplate&gt; element, but
      found one.  Replacing the content with new boilerplate."

<span class="h4"><h4><a class="selflink" name="section-4.4.11" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.11">4.4.11</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2.1">Section 5.4.2.1</a>, Compare submissionType and &lt;seriesInfo&gt;</h4></span>
         "stream".

   This comes too late.  It is specified that if either is missing, it
   should be added.  But the default attribute setting earlier has set
   stream="IETF" on all &lt;seriesInfo&gt; elements that didn't have it.  If a
   document is read without submissionType, and stream set correctly to
   something else than "IETF" on one of the &lt;seriesInfo&gt; elements, then
   the default-setting will have created a conflict which cannot be
   resolved purely from the document at this point.

   Furthermore, it doesn't seem like a good fit to have tag attributes
   that all have to be set to the same value.  This is not according to
   [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-DRY" title="&quot;Don&#39;t repeat yourself&quot;">DRY</a>], and unnecessarily introduces the possibility of conflict, as a
   result of multiple &lt;seriesInfo&gt; elements being permitted (Relevant to
   the v3 schema, not the preptool).

   Proposal:  Remove the default value for stream, and make it
      subordinate to submissionType.

   Implementation:  The current version of xml2rfc implements the
      specification as written, and produces errors (which lead to not




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 42]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-43" id="page-43" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-43" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


      producing an output document) on inconsistencies.  This does not
      feel user-friendly.

<span class="h4"><h4><a class="selflink" name="section-4.4.12" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.12">4.4.12</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.2.2">Section 5.4.2.2</a>, "Status of this Memo" Insertion</h4></span>

   It specifies that one should consider both submissionType and
   &lt;seriesInfo&gt; stream value; but those have just been set equal in
   5.4.2.1.

   Proposal:  Remove &lt;seriesInfo&gt; from consideration here.  In order to
      produce a correct "Status of this Memo" text, "category",
      "consensus", and "submissionType" must be considered, and all
      three are present as attributes on &lt;rfc&gt;.  Keep it that way.

   Implementation:  The current version of xml2rfc looks at
      "submissionType", "category", and "consensus" on the &lt;rfc&gt;
      element.

<span class="h4"><h4><a class="selflink" name="section-4.4.13" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.13">4.4.13</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.3">Section 5.4.3</a>, &lt;reference&gt; "target" Insertion</h4></span>

      "Insert "target" attributes for RFC, DOI, and Internet-Draft
      references that lack them."

   It is indicated that the rfc-editor will provide the URL patterns.
   What are they?

   In the formatter, the order of &lt;seriesInfo&gt; determines the rendering
   order.  The insertion should probably be done in the desired
   rendering order.

   Proposal:  In addition to providing the appropriate URL patterns,
      specify the order in which the &lt;seriesInfo&gt; elements should occur,
      for instance: 'BCP', 'RFC', 'DOI'.

   Implementation:  The current version of xml2rfc inserts the
      appropriate &lt;seriesInfo&gt; elements, and after insertion sorts them
      in the order 'BCP', 'RFC', 'DOI', followed by others.

<span class="h4"><h4><a class="selflink" name="section-4.4.14" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.14">4.4.14</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.4">Section 5.4.4</a>, &lt;name&gt; Slugification</h4></span>

   The 'n-' prefix for slugs is unnecessarily opaque.

   Proposal:  Use slugs with prefix "name-" rather than "n-", to be more
      self-documenting.

   Implementation:  Implemented as proposed in the current version of
      xml2rfc.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 43]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-44" id="page-44" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-44" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Should the slugs be unique?  Assuming yes, but guidance would be
   good.  The current version of xml2rfc enforces unique slugs, with the
   following algorithm:

   *  remove non-ascii letters

   *  replace-non-letters with dash, compacting multiple dashes to one

   *  reduce length to 32, but insure uniqueness by increasing length or
      adding numerical suffixes, up to length 40 with suffixes numbered
      2 to 99.

   Proposal:  Do slugification and uniqueness enforcement as described
      above.

   Implementation:  As described above.

<span class="h4"><h4><a class="selflink" name="section-4.4.15" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.15">4.4.15</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.6">Section 5.4.6</a>, "pn" Numbering.</h4></span>

   What does 'pn' mean?  Cryptic is never good when humans have to deal
   with it.  At least explain as "part number" in text.  Possibly even
   change pn="" to part="".

   &lt;back&gt;&lt;section&gt; is not mentioned.  Assuming numbering as section-
   appendix.1.2

   &lt;iref&gt; elements are not mentioned (but covered in 7991).  Should be
   listed in 7998.

   The numbering scheme is inconsistent between notes/boilerplate and
   other sections, in that if attempting to split a pn on dashes (which
   external tools might want to do) the boilerplate/note sections
   contain an additional dash.

   Proposal:  Change that dash to a dot, for better consistency with
      other sections.  This also makes the &lt;t&gt; part numbers less
      confusing: "section-boilerplate.1-1" instead of "section-
      boilerplate-1-1"

   Implementation:  Implemented as proposed in the current version of
      xml2rfc.










<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 44]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-45" id="page-45" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-45" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h5"><h5><a class="selflink" name="section-4.4.15.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.15.1">4.4.15.1</a>.  RFC format anchors / fragment identifiers</h5></span>

   The anchor prefixes described unnecessarily break with existing links
   to document sections.  Wikipedia has (2018-02-19) about 84 000 pages
   that link to RFCs; with most pages having multiple links.  A small
   manual sampling indicates that about 1 link in 10 has a #section-
   fragment identifier.  All of these will break if the new tools are
   used to generated content linked from these pages.

   How much larger than Wikipedia is the whole of the internet, in terms
   of links to RFCs?  Hard to tell (though searching for 'rfc' on Google
   indicates 'about 10 000 000 results).  In any case, we are talking
   about breaking a substantial number of links using fragment
   identifiers of the format #section- and #appendix- if the new tools
   are used to replace the old HTML content that sites currently point
   to.

   Proposal:  Update the <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a> preptool to use these prefixes,
      instead:

      *  "section-xxx"

      *  "figure-xxx"

      *  "table-xxx"

      *  "appendix-xxx"

      *  "index-xxx"

      *  "para-xxx"

      *  "name-xxx"

   Implementation:  Implemented as above in the current version of
      xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-4.4.16" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.16">4.4.16</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.7">Section 5.4.7</a>, &lt;iref&gt; Numbering</h4></span>

   Numbering of &lt;iref&gt; talks about setting the 'pn' attribute.  Mixed
   into this is a mention of 'irefid', which isn't a valid attribute.
   The current implementation assumes that 'pn' is meant.

   The item and sub-item text is not constrained to slug format; in
   order to deliver useful pn values, slugification should be done.  On
   the other hand, the explicit prescription of how to ensure uniqueness
   clashes with the total lack of uniqueness attention under 5.4.4.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 45]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-46" id="page-46" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-46" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Proposal:  Require slugification for pn-numbering of items and sub-
      items, but remove the details of how to ensure uniqueness.
      Correct the mention of 'irefid' to say 'pn', if that was intended.

   Implementation:  Slugification is done, and uniqueness is enforced
      with an algorithm that limits slug length and tries to keep slugs
      readable.  If there are more than 99 slugs that would collide if
      no uniqueness processing was done, an error is generated.

<span class="h4"><h4><a class="selflink" name="section-4.4.17" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.17">4.4.17</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.8.1">Section 5.4.8.1</a>, "derivedContent" Insertion (with Content)</h4></span>

   This section is problematic.  It says:

      For each &lt;xref&gt; element that has content, fill the
      "derivedContent" with the element content, having first trimmed
      the whitespace from ends of content text.  Issue a warning if the
      "derivedContent" attribute already exists and has a different
      value from what was being filled in.

   On the surface, it seems to replace the effect of using &lt;xref&gt; with
   format="none" under vocabulary version 2, but in practice it blocks
   the combination of generated text (say a section number fetched from
   the referenced section) with author-provided text, since any author-
   provided text will preempt generated text that is based on the
   "format" attribute with the author-provided text.

   Additionally, and in one sense just as bad, it violates the principle
   of least surprise [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-POLA" title="&quot;Principle of least astonishment&quot;">POLA</a>], since it is a fundamental change from how
   text inside the &lt;xref&gt; element was combined with generated text in
   version 2.

   Implementation:  As of xml2rfc 2.19.0, the expansion of &lt;xref&gt; and
      its variation based on "format" attribute settings has been
      reverted to be more in line with version two, and more regular.
      The attribute setting format="none" is honoured again, and if the
      &lt;xref&gt; element has text content, it is combined with the content
      derived from the format attribute setting, rather than simply
      overriding it, as was the consequence of <a href="https://tools.ietf.org/html/rfc7998#section-5.4.8.1">Section&nbsp;5.4.8.1 of
      [RFC7998]</a>.

      *  Derived content is generated based on the format attribute

      *  If text content is provided, it is shown together with any
         derived content

      *  If the &lt;xref&gt; target is a listed reference, the derived content
         is shown within square brackets




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 46]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-47" id="page-47" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-47" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


      *  If the &lt;xref&gt; target is not a listed reference , the derived
         content is shown within parentheses if there is text content,
         and without parentheses if not.

      *  If text content is provided, and is identical with the derived
         content, it is ignored.

   This addresses github issue #17 (<a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/17">https://github.com/rfc-format/draft-</a>
   <a href="https://github.com/rfc-format/draft-iab-xml2rfc-v3-bis/issues/17">iab-xml2rfc-v3-bis/issues/17</a>).

<span class="h4"><h4><a class="selflink" name="section-4.4.18" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.18">4.4.18</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.8.2">Section 5.4.8.2</a>, "derivedContent" Insertion (without</h4></span>
<span class="h4"><h4>         Content)</h4></span>

   There's a formatting mistake:

   The last sentence of the last bullet ("Issue a warning...") should
   not be part of the bullet, but a separate final paragraph for the
   Section.

<span class="h4"><h4><a class="selflink" name="section-4.4.19" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.19">4.4.19</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.5.1">Section 5.5.1</a>, &lt;artwork&gt; Processing</h4></span>

   <a href="https://tools.ietf.org/html/rfc791">RFC791</a> specifies that the &lt;artwork&gt; content is a fallback if there is
   external &lt;svg&gt; content, but 7998 says to drop the fallback and insert
   the external &lt;svg&gt;.  This deletes information, and makes the fallback
   unavailable.  This needs a better handling.


   Proposal:  If there is fallback content, convert the external URL
      content to a "data:" URL for the src.  This pulls the external
      content in and makes it immutable, but retains the fallback text.

   Implementation:  Implemented as proposed in the current version of
      xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-4.4.20" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.20">4.4.20</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.5.2">Section 5.5.2</a>, &lt;sourcecode&gt; Processing</h4></span>

   List item 4 says:

      "fill the content of the &lt;sourcecode&gt; element with the resolved
      XML from the URI in the "src" attribute"

   However, we have no particular reason to assume that the content of
   the "src" URL is XML.  Quite to the contrary, it would be a very
   natural and common use case that the external content is a source
   code file.

   Proposal:  The URI should not be assumed to resolve to xml, but
      instead treated like CDATA.



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 47]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-48" id="page-48" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-48" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  Implemented as proposed in the current version of
      xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-4.4.21" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.21">4.4.21</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.8.2">Section 5.4.8.2</a>, "derivedContent" Insertion.</h4></span>

   It is not clear from the description if the derived content text
   should contain square brackets when an &lt;xref&gt; would be rendered with
   square brackets in current output formats.

   It is not clear if the derived content should include the 'Figure',
   or 'Table' label when pointing to such objects.  When rendering such
   a reference in the current output formats, the generated text would
   include the label, but the current text seems to lean towards not
   making this part of the derived content, which would cause
   incompatibility with the output of v2 formatters.

   The purpose of this is insufficiently explained.  If the intention is
   to use this when generating derived formats, there are problems: If,
   for instance, the derived format with a &lt;reference&gt; target is set to
   '<a href="https://tools.ietf.org/html/rfc1234">RFC1234</a>', the text inserted in a derived format should have
   surrounding square brackets; but if the target is a section, it
   should not.  If on the other hand the derived format includes the
   square brackets when appropriate, the link in a derived format with
   internal link capability will use the whole of the bracketed string,
   rather than the more appropriate text within the brackets.

   Proposal:  The whole "derivedContent" handling and specification
      needs a thorough rework, with specification of the intended use of
      the attribute by formatters.  Possibly the whole "derivedContent"
      concept should be scrapped, and the rendering left for the
      formatter, depending on the characteristics of the output format.

   Implementation:  The current version of xml2rfc works around this
      issue by using different formatter code for different cases, which
      is not good from the viewpoint of using the prepped XML as the
      archival format, but at least produces reasonable output.

<span class="h4"><h4><a class="selflink" name="section-4.4.22" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.22">4.4.22</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.9">Section 5.4.9</a>, &lt;relref&gt; Processing</h4></span>

   Why doesn't &lt;relref&gt; have the same format options as &lt;xref&gt;?  Surely
   they must be just as relevant here.  But more importantly, &lt;relref&gt;
   overlaps &lt;xref&gt; so much that it would be better to just add section,
   relative, and displayFormat to &lt;xref&gt;.  Maybe change displayFormat to
   the earlier proposed 'sectionFormat'.

   Proposal:  Deprecate &lt;relref&gt;, and fold the functionality into
      &lt;xref&gt;.




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 48]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-49" id="page-49" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-49" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   Implementation:  The &lt;relref&gt; functionality has been folded into
      &lt;xref&gt;.  As of version 2.20.0, xml2rfc rewrites &lt;relref&gt; to
      &lt;xref&gt;, with "displayFormat" changed to "sectionFormat".

<span class="h4"><h4><a class="selflink" name="section-4.4.23" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.23">4.4.23</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.10">Section 5.4.10</a>, Unused Reference Warnings</h4></span>

   During vocabulary version 2 processing, warnings are emitted for
   &lt;reference&gt; entries that are not used.  This is not specified for v3,
   but is desired, according to RFC Editor staff.  Implemented in
   xml2rfc v2.18.0.

<span class="h4"><h4><a class="selflink" name="section-4.4.24" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.24">4.4.24</a>.  New <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4.11">Section 5.4.11</a>, Index Insertion</h4></span>

   <a href="https://tools.ietf.org/html/rfc7998">RFC7998</a> does not say anything about inserting xml for the index, if
   one is requested, but it seems counter-intuitive not to produce xml
   for the index as part of the preptool processing, given all the other
   prepping that's being done.  What's more, in <a href="https://tools.ietf.org/html/rfc7991#section-2.27">Section&nbsp;2.27 of RFC 7991</a>
   there's this text:

      "When the prep tool is creating index content, it collects the
      items in a case-sensitive fashion for both the item and sub-item
      level."

   Proposal:  Insert the XML necessary to render the index into the
      prepped XML.

   Implementation:  Implemented as proposed in the current version of
      xml2rfc.

<span class="h4"><h4><a class="selflink" name="section-4.4.25" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.25">4.4.25</a>.  In <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.6.3">Section 5.6.3</a>, &lt;link&gt; Processing</h4></span>

<span class="h5"><h5><a class="selflink" name="section-4.4.25.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.25.1">4.4.25.1</a>.  Using docName to generate convertedFrom</h5></span>

   Bullet 4.: Bad grammar: s/RFC the form/RFC, in the form/

   Bullet 4.: Hmm.  The &lt;link rel="convertedFrom" href="draft-..."&gt;
   should ideally be created automatically, but there is no clear path
   of how to do that.

   Proposal:  Require docName to be set to the draft name, and use that
      to create this link.  This also implies that "docName" not be
      deprecated (see <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1.18">Section 3.1.18</a>).

   Implementation:  Implemented as proposed in the current version of
      xml2rfc.






<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 49]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-50" id="page-50" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-50" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h5"><h5><a class="selflink" name="section-4.4.25.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-4.4.25.2">4.4.25.2</a>.  Invalid "rel" values.</h5></span>

   Using the W3C validator to validate the V3 output, there are some
   errors; all of them with the same basic complaint: The values
   prescribed for the &lt;link&gt; "rel" attribute (derivedFrom, describedBy,
   and item) are not permitted values.  The permitted values are given
   here: <a href="https://html.spec.whatwg.org/multipage/links.html#linkTypes">https://html.spec.whatwg.org/multipage/links.html#linkTypes</a>.

<span class="h2"><h2><a class="selflink" name="section-5" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5">5</a>.  Possible New Work</h2></span>

<span class="h3"><h3><a class="selflink" name="section-5.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.1">5.1</a>.  Inline and Display Math</h3></span>

   Various people have repeatedly asked for better provisions for using
   math in drafts.  A number of different cases seems to be mentioned,
   listed roughtly in order of complexity:

   1.  Ability to use individual math symbols in running text

   2.  Ability to insert math equations in running text

   3.  Ability to display complex math as figures

   Not surprisingly, these 3 use cases correspond quite well to the 3
   modes the TeX typesetting system uses when considering math.  In text
   mode, individual math symbols may be inserted in running text; in
   inline math mode, equations can be built, but will be displayed
   inline with preceding and following text (but can still display
   content that does not otherwise fit on a single line, such as a
   fraction, to take a very simple example.  In display math mode,
   equations will be displayed on a separate line (or multiple lines).

   One possible approach to integrating the second and third case above
   in IETF documents rendered as HTML and PDF is to add support for
   MathJax [<a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#ref-MATH-JAX" title="&quot;MathJax - Beautiful math in all browsers&quot;">MATH-JAX</a>].

   For the first case, the simplest and most straightforward approach
   would be to extend the permitted range of unicode code-points in
   running body text from permitting ASCII only (unless enclosed in &lt;u&gt;
   elements) to permit ASCII and code-points in the 'Mathematical
   Operators' and 'Supplementary Mathematical Operators' blocks, or
   alternatively code-points in the 'Symbol, Math' ('Sm') category,
   which includes the mentioned blocks, but also includes additional
   symbols, and possibly goes further than needed if the second case
   above is provided for.







<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 50]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-51" id="page-51" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-51" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


<span class="h3"><h3><a class="selflink" name="section-5.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.2">5.2</a>.  Change Bars</h3></span>

   Change bars have been used in published RFCs (see for instance
   [<a href="https://tools.ietf.org/html/rfc6818" title="&quot;Updates to the Internet X.509 Public Key Infrastructure Certificate and Certificate Revocation List (CRL) Profile&quot;">RFC6818</a>]), and would seem to be a fairly obvious extension to add.
   When documents were produced with a possible nroff step, adding
   change bars was fairly straightforward, but with the transition to
   publication in XML as the archival format, this capability has now
   been lost, unless we introduce an element that provides it.

<span class="h3"><h3><a class="selflink" name="section-5.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.3">5.3</a>.  Element Nesting</h3></span>

   There exists a number of areas where without any obvious reason some
   elements have been excluded from appearing.  For instance, in
   <a href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-3.1">Section 3.1</a> of RFC-to-be 8646 (<a href="https://tools.ietf.org/html/draft-ietf-manet-dlep-pause-extension">draft-ietf-manet-dlep-pause-</a>
   <a href="https://tools.ietf.org/html/draft-ietf-manet-dlep-pause-extension">extension</a>), there is a small table as part of one &lt;dd&gt; in a &lt;dl&gt;
   (definition list) that defines the bit fields of a data item.  But
   since &lt;table&gt; is not permitted in a &lt;dd&gt;, the definition list has to
   be broken at this point, a &lt;table&gt; element inserted, and then the
   &lt;dl&gt; continues to define the rest of the data item fields.

   This seems quite unnecssary; there is no obvious reason why tables
   cannot be part of &lt;dd&gt; or &lt;li&gt;.

<span class="h3"><h3><a class="selflink" name="section-5.4" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-5.4">5.4</a>.  Schema Consistency</h3></span>

   After some changes introduced during implementation, such as
   permitting &lt;blockquote&gt; within &lt;li&gt; after discussion on the xml2rfc-
   dev list (<a href="https://mailarchive.ietf.org/arch/browse/xml2rfc-dev/?q=subject%3A%22issue%20%2335%22">https://mailarchive.ietf.org/arch/browse/xml2rfc-</a>
   <a href="https://mailarchive.ietf.org/arch/browse/xml2rfc-dev/?q=subject%3A%22issue%20%2335%22">dev/?q=subject%3A%22issue%20%2335%22</a>) there is a lack of consistency
   in which elements are permitted where.  Once a decision has been made
   on the additional proposed changes above, (such as permitting &lt;table&gt;
   within &lt;dd&gt; and &lt;li&gt;) a review should be done of the resulting
   schema, and see if a cleanup for consistency is needed.

   Here are for instance lists of elements permitted inside various
   block elements, as of release 2.28.0 of xml2rfc:

   aside: (artset| artwork| dl| figure| iref| ol| t| table| ul)* blockquote: (artset| artwork| dl| figure| ol| sourcecode| t| ul)+ li: (artset| artwork| blockquote| dl| figure| ol| sourcecode| t| ul)+ dd: (artset| artwork| dl| figure| ol| sourcecode| t| ul)+ td: (artset| artwork| dl| figure| ol| sourcecode| t| ul)+ th: (artset| artwork| dl| figure| ol| sourcecode| t| ul)+

<span class="h2"><h2><a class="selflink" name="section-6" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-6">6</a>.  Security Considerations</h2></span>

   This document does not introduce any security considerations on its
   own.

<span class="h2"><h2><a class="selflink" name="section-7" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#section-7">7</a>.  Informative References</h2></span>

   [<a name="ref-DRY" id="ref-DRY">DRY</a>]      Wikipedia, "Don't repeat yourself", 2018,
              &lt;<a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">https://en.wikipedia.org/wiki/Don%27t_repeat_yourself</a>&gt;.



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 51]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-52" id="page-52" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-52" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   [<a name="ref-HCARD" id="ref-HCARD">HCARD</a>]    Celik, T., "hCard 1.0", 2015,
              &lt;<a href="http://microformats.org/wiki/hcard">http://microformats.org/wiki/hcard</a>&gt;.

   [<a name="ref-KISS" id="ref-KISS">KISS</a>]     Wikipedia, "KISS Principle", 2018,
              &lt;<a href="https://en.wikipedia.org/wiki/KISS_principle">https://en.wikipedia.org/wiki/KISS_principle</a>&gt;.

   [<a name="ref-MATH-JAX" id="ref-MATH-JAX">MATH-JAX</a>] The MathJax Team, "MathJax - Beautiful math in all
              browsers", 2009-2019, &lt;<a href="https://www.mathjax.org/">https://www.mathjax.org</a>&gt;.

   [<a name="ref-POLA" id="ref-POLA">POLA</a>]     Wikipedia, "Principle of least astonishment", 2018,
              &lt;<a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">https://en.wikipedia.org/wiki/</a>
              <a href="https://en.wikipedia.org/wiki/Principle_of_least_astonishment">Principle_of_least_astonishment</a>&gt;.

   [<a name="ref-RFC3339" id="ref-RFC3339">RFC3339</a>]  Klyne, G. and C. Newman, "Date and Time on the Internet:
              Timestamps", <a href="https://tools.ietf.org/html/rfc3339">RFC 3339</a>, DOI 10.17487/RFC3339, July 2002,
              &lt;<a href="https://www.rfc-editor.org/info/rfc3339">https://www.rfc-editor.org/info/rfc3339</a>&gt;.

   [<a name="ref-RFC4228" id="ref-RFC4228">RFC4228</a>]  Rousskov, A., "Requirements for an IETF Draft Submission
              Toolset", <a href="https://tools.ietf.org/html/rfc4228">RFC 4228</a>, DOI 10.17487/RFC4228, December 2005,
              &lt;<a href="https://www.rfc-editor.org/info/rfc4228">https://www.rfc-editor.org/info/rfc4228</a>&gt;.

   [<a name="ref-RFC6350" id="ref-RFC6350">RFC6350</a>]  Perreault, S., "vCard Format Specification", <a href="https://tools.ietf.org/html/rfc6350">RFC 6350</a>,
              DOI 10.17487/RFC6350, August 2011,
              &lt;<a href="https://www.rfc-editor.org/info/rfc6350">https://www.rfc-editor.org/info/rfc6350</a>&gt;.

   [<a name="ref-RFC6818" id="ref-RFC6818">RFC6818</a>]  Yee, P., "Updates to the Internet X.509 Public Key
              Infrastructure Certificate and Certificate Revocation List
              (CRL) Profile", <a href="https://tools.ietf.org/html/rfc6818">RFC 6818</a>, DOI 10.17487/RFC6818, January
              2013, &lt;<a href="https://www.rfc-editor.org/info/rfc6818">https://www.rfc-editor.org/info/rfc6818</a>&gt;.

   [<a name="ref-RFC7749" id="ref-RFC7749">RFC7749</a>]  Reschke, J., "The "xml2rfc" Version 2 Vocabulary",
              <a href="https://tools.ietf.org/html/rfc7749">RFC 7749</a>, DOI 10.17487/RFC7749, February 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7749">https://www.rfc-editor.org/info/rfc7749</a>&gt;.

   [<a name="ref-RFC7991" id="ref-RFC7991">RFC7991</a>]  Hoffman, P., "The "xml2rfc" Version 3 Vocabulary",
              <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a>, DOI 10.17487/RFC7991, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7991">https://www.rfc-editor.org/info/rfc7991</a>&gt;.

   [<a name="ref-RFC7992" id="ref-RFC7992">RFC7992</a>]  Hildebrand, J., Ed. and P. Hoffman, "HTML Format for
              RFCs", <a href="https://tools.ietf.org/html/rfc7992">RFC 7992</a>, DOI 10.17487/RFC7992, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7992">https://www.rfc-editor.org/info/rfc7992</a>&gt;.

   [<a name="ref-RFC7993" id="ref-RFC7993">RFC7993</a>]  Flanagan, H., "Cascading Style Sheets (CSS) Requirements
              for RFCs", <a href="https://tools.ietf.org/html/rfc7993">RFC 7993</a>, DOI 10.17487/RFC7993, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7993">https://www.rfc-editor.org/info/rfc7993</a>&gt;.

   [<a name="ref-RFC7994" id="ref-RFC7994">RFC7994</a>]  Flanagan, H., "Requirements for Plain-Text RFCs",




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 52]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-53" id="page-53" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-53" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


              <a href="https://tools.ietf.org/html/rfc7994">RFC 7994</a>, DOI 10.17487/RFC7994, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7994">https://www.rfc-editor.org/info/rfc7994</a>&gt;.

   [<a name="ref-RFC7995" id="ref-RFC7995">RFC7995</a>]  Hansen, T., Ed., Masinter, L., and M. Hardy, "PDF Format
              for RFCs", <a href="https://tools.ietf.org/html/rfc7995">RFC 7995</a>, DOI 10.17487/RFC7995, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7995">https://www.rfc-editor.org/info/rfc7995</a>&gt;.

   [<a name="ref-RFC7996" id="ref-RFC7996">RFC7996</a>]  Brownlee, N., "SVG Drawings for RFCs: SVG 1.2 RFC",
              <a href="https://tools.ietf.org/html/rfc7996">RFC 7996</a>, DOI 10.17487/RFC7996, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7996">https://www.rfc-editor.org/info/rfc7996</a>&gt;.

   [<a name="ref-RFC7997" id="ref-RFC7997">RFC7997</a>]  Flanagan, H., Ed., "The Use of Non-ASCII Characters in
              RFCs", <a href="https://tools.ietf.org/html/rfc7997">RFC 7997</a>, DOI 10.17487/RFC7997, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7997">https://www.rfc-editor.org/info/rfc7997</a>&gt;.

   [<a name="ref-RFC7998" id="ref-RFC7998">RFC7998</a>]  Hoffman, P. and J. Hildebrand, ""xml2rfc" Version 3
              Preparation Tool Description", <a href="https://tools.ietf.org/html/rfc7998">RFC 7998</a>,
              DOI 10.17487/RFC7998, December 2016,
              &lt;<a href="https://www.rfc-editor.org/info/rfc7998">https://www.rfc-editor.org/info/rfc7998</a>&gt;.

   [<a name="ref-RFC8407" id="ref-RFC8407">RFC8407</a>]  Bierman, A., "Guidelines for Authors and Reviewers of
              Documents Containing YANG Data Models", <a href="https://tools.ietf.org/html/bcp216">BCP 216</a>, <a href="https://tools.ietf.org/html/rfc8407">RFC 8407</a>,
              DOI 10.17487/RFC8407, October 2018,
              &lt;<a href="https://www.rfc-editor.org/info/rfc8407">https://www.rfc-editor.org/info/rfc8407</a>&gt;.

   [<a name="ref-XML2RFC" id="ref-XML2RFC">XML2RFC</a>]  Levkowetz, H., "xml2rfc", 2018,
              &lt;<a href="https://pypi.org/pypi/xml2rfc">https://pypi.org/pypi/xml2rfc</a>&gt;.

<span class="h2"><h2><a class="selflink" name="appendix-A" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A">Appendix A</a>.  Proposed new sections in <a href="https://tools.ietf.org/html/rfc7991">RFC 7991</a> bis</h2></span>

<span class="h3"><h3><a class="selflink" name="appendix-A.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1">A.1</a>.  &lt;u&gt;</h3></span>

   In xml2rfc vocabulary version 3, the elements &lt;author&gt;,
   &lt;organisation&gt;, &lt;street&gt;, &lt;city&gt;, &lt;region&gt;, &lt;code&gt;, &lt;country&gt;,
   &lt;postalLine&gt;, &lt;email&gt;, &lt;seriesInfo&gt;, and &lt;title&gt; may contain non-
   ascii characters for the purpose of rendering author names,
   addresses, and reference titles correctly.  They also have an
   additional "ascii" attribute for the purpose of proper rendering in
   ascii-only media.

   In order to insert Unicode characters in any other context, xml2rfc
   vocabulary v3 requires that the Unicode string be enclosed within an
   &lt;u&gt; element.  The element will be expanded inline based on the value
   of a "format" attribute.  This provides a generalised means of
   generating the 6 methods of Unicode renderings listed in <a href="https://tools.ietf.org/html/rfc7997#section-3.4">[RFC7997],
   Section&nbsp;3.4</a>, and also several others found in for instance the RFC
   Format Tools example rendering of <a href="https://tools.ietf.org/html/rfc7700">RFC 7700</a>, at <a href="https://rfc-format.github.io/draft-iab-rfc-css-bis/sample2-v2.html">https://rfc-</a>
   <a href="https://rfc-format.github.io/draft-iab-rfc-css-bis/sample2-v2.html">format.github.io/draft-iab-rfc-css-bis/sample2-v2.html</a>.



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 53]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-54" id="page-54" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-54" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   The "format" attribute accepts either a simplified format
   specification, or a full format string with placeholders for the
   various possible Unicode expansions.

<span class="h4"><h4><a class="selflink" name="appendix-A.1.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.1">A.1.1</a>.  Expansion of simplified &lt;u&gt; format specifications</h4></span>

   The simplified format consists of dash-separated keywords, where each
   keyword represents a possible expansion of the Unicode character or
   string; use for example "&lt;u "lit-num-name"&gt;foo&lt;/u&gt;" to expand the
   text to its literal value, code point values, and code point names.

   A combination of up to 3 of the following keywords may be used,
   separated by dashes: "num", "lit", "name", "ascii", "char".  The
   keywords are expanded as follows and combined, with the second and
   third enclosed in parentheses (if present):

      "num"  The numeric value(s) of the element text, in U+1234
         notation

      "name"  The Unicode name(s) of the element text

      "lit"  The literal element text, enclosed in quotes

      "char"  The literal element text, without quotes

      "ascii"  The value of the 'ascii' attribute on the &lt;u&gt; element

   In order to ensure that no specification mistakes can result for
   rendering methods that cannot render all Unicode code points, "num"
   MUST always be part of the specified format.

   The default value of the "format" attribute is "lit-name-num".

<span class="h5"><h5><a class="selflink" name="appendix-A.1.1.1" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.1.1">A.1.1.1</a>.  Examples</h5></span>

   Examples:

      format="num-lit":
         Temperature changes in the Temperature Control Protocol are
         indicated by the character U+0394 ("Δ").

      format="num-name":
         Temperature changes in the Temperature Control Protocol are
         indicated by the character U+0394 (GREEK CAPITAL LETTER DELTA).

      format="num-lit-name":
         Temperature changes in the Temperature Control Protocol are
         indicated by the character U+0394 ("Δ", GREEK CAPITAL LETTER



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 54]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-55" id="page-55" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-55" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


         DELTA).

      format="num-name-lit":
         Temperature changes in the Temperature Control Protocol are
         indicated by the character U+0394 (GREEK CAPITAL LETTER DELTA,
         "Δ").

      format="name-lit-num":
         Temperature changes in the Temperature Control Protocol are
         indicated by the character GREEK CAPITAL LETTER DELTA ("Δ",
         U+0394).

      format="lit-name-num":
         Temperature changes in the Temperature Control Protocol are
         indicated by the character "Δ" (GREEK CAPITAL LETTER DELTA,
         U+0394).

<span class="h5"><h5><a class="selflink" name="appendix-A.1.1.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.1.2">A.1.1.2</a>.  Expansion of &lt;u&gt; multi-codepoint strings</h5></span>

   If the &lt;u&gt; element encloses a sequence of Unicode codepoints, rather
   than a single one, the rendering reflects this.  The element

      &lt;u format="num-lit"&gt;ᏚᎢᎵᎬᎢᎬᏒ&lt;/u&gt;

   will be expanded to 'U+13DA U+13A2 U+13B5 U+13AC U+13A2 U+13AC U+13D2
   ("ᏚᎢᎵᎬᎢᎬᏒ")'.

   Unicode characters in document text which are not enclosed in &lt;u&gt;
   will be replaced with a question mark (?) and a warning will be
   issued.

<span class="h4"><h4><a class="selflink" name="appendix-A.1.2" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.2">A.1.2</a>.  Non-simplified &lt;u&gt; format specifications</h4></span>

   In order to provide for cases where the simplified format above is
   insufficient, without relinquishing the requirement that the number
   of a code point always must be rendered, the "format" attribute can
   also accept a full format string.  This format uses placeholders
   which consist of any of the key words above enclosed in curly braces;
   outside of this, any ascii text is permissible.  For example,

      The &lt;u format="{lit} character ({num})"&gt;Δ&lt;/u&gt;.

   will be rendered as

      The "Δ" character (U+0394).

   As for the simplified format, "num" MUST always be part of the
   specified format in order to ensure that no specification mistakes



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 55]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-56" id="page-56" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-56" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


   can result for rendering methods that cannot render all Unicode code
   points,

<span class="h4"><h4><a class="selflink" name="appendix-A.1.3" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#appendix-A.1.3">A.1.3</a>.  Split expansion of &lt;u&gt; elements</h4></span>

   There are cases which cannot be handled with either the simplified or
   full &lt;u&gt; format specifications.  One is exemplified in Table 1 of the
   CSS sample document at <a href="https://rfc-format.github.io/draft-iab-rfc-css-bis/sample2-v2.html#s-3">https://rfc-format.github.io/draft-iab-rfc-</a>
   <a href="https://rfc-format.github.io/draft-iab-rfc-css-bis/sample2-v2.html#s-3">css-bis/sample2-v2.html#s-3</a>.  Rendering this with &lt;u&gt; elements
   requires that the non-ascii content be rendered in one place (a table
   cell in one column) while the expansion is rendered in another cell
   in a different column.  Provision for this has been made by modifying
   the expansion of &lt;u&gt; when it is referenced by an &lt;xref&gt;.  This table,
   with &lt;u&gt; elements referenced by &lt;xref&gt; instances:

   &lt;table&gt;
     &lt;name&gt;A Sample of Legal Nicknames&lt;/name&gt;
     &lt;thead&gt;
       &lt;tr&gt;
          &lt;th&gt;#&lt;/th&gt;
          &lt;th&gt;Nickname&lt;/th&gt;
          &lt;th&gt;Output for comparison&lt;/th&gt;
       &lt;/tr&gt;
     &lt;/thead&gt;
     &lt;tbody&gt;
       &lt;tr&gt;
          &lt;td&gt;1&lt;/td&gt;
          &lt;td&gt;&amp;lt;Foo&amp;gt;&lt;/td&gt;
          &lt;td&gt;&amp;lt;foo&amp;gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;2&lt;/td&gt;
          &lt;td&gt;&amp;lt;foo&amp;gt;&lt;/td&gt;
          &lt;td&gt;&amp;lt;foo&amp;gt;&lt;/td&gt; &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;3&lt;/td&gt;
          &lt;td&gt;&amp;lt;Foo Bar&amp;gt;&lt;/td&gt;
          &lt;td&gt;&amp;lt;foo bar&amp;gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;4&lt;/td&gt;
          &lt;td&gt;&amp;lt;foo bar&amp;gt;&lt;/td&gt;
          &lt;td&gt;&amp;lt;foo bar&amp;gt;&lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
         &lt;td&gt;5&lt;/td&gt;
         &lt;td&gt;
            &amp;lt;



<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 56]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-57" id="page-57" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-57" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


            &lt;u format="name-num" anchor="greek-upper-sigma"&gt;Σ&lt;/u&gt;
            &amp;gt;
         &lt;/td&gt;
         &lt;td&gt; &lt;xref target="greek-upper-sigma" /&gt; &lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;6&lt;/td&gt;
          &lt;td&gt;
             &amp;lt;
             &lt;u format="name-num" anchor="greek-lower-sigma"&gt;σ&lt;/u&gt;
             &amp;gt;
          &lt;/td&gt;
          &lt;td&gt; &lt;xref target="greek-lower-sigma" /&gt; &lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;7&lt;/td&gt;
          &lt;td&gt;
             &amp;lt;
             &lt;u format="name-num" anchor="greek-final-sigma"&gt;ς&lt;/u&gt;
             &amp;gt;
          &lt;/td&gt;
          &lt;td&gt; &lt;xref target="greek-final-sigma" /&gt; &lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;8&lt;/td&gt;
          &lt;td&gt;
             &amp;lt;
             &lt;u format="name-num" anchor="black-chess-king"&gt;♚&lt;/u&gt;
             &amp;gt;
          &lt;/td&gt;
          &lt;td&gt; &lt;xref target="black-chess-king" format="default"/&gt; &lt;/td&gt;
       &lt;/tr&gt;
       &lt;tr&gt;
          &lt;td&gt;9&lt;/td&gt;
          &lt;td&gt;
             &amp;lt;Richard
             &lt;u format="{char}&gt; ({num})" anchor="richard-iv"&gt;Ⅳ&lt;/u&gt;
             &amp;gt;
          &lt;/td&gt;
          &lt;td&gt;&amp;lt;richard iv&amp;gt;&lt;/td&gt;
       &lt;/tr&gt;
     &lt;/tbody&gt;
   &lt;/table&gt;



   comes out as shown below:




<span class="grey">Levkowetz                 Expires 17 April 2020                [Page 57]</span></pre>
<hr class="noprint" style="width: 96ex;" align="left"><!--NewPage--><pre class="newpage"><a name="page-58" id="page-58" href="https://tools.ietf.org/html/draft-levkowetz-xml2rfc-v3-implementation-notes-10#page-58" class="invisible"> </a>
<span class="grey">Internet-Draft        <a href="https://tools.ietf.org/html/rfc7991">RFC7991</a> Implementation Notes          October 2019</span>


       +---+-------------+-----------------------------------------+
       | # | Nickname    | Output for comparison                   |
       +===+=============+=========================================+
       | 1 | &lt;Foo&gt;       | &lt;foo&gt;                                   |
       +---+-------------+-----------------------------------------+
       | 2 | &lt;foo&gt;       | &lt;foo&gt;                                   |
       +---+-------------+-----------------------------------------+
       | 3 | &lt;Foo Bar&gt;   | &lt;foo bar&gt;                               |
       +---+-------------+-----------------------------------------+
       | 4 | &lt;foo bar&gt;   | &lt;foo bar&gt;                               |
       +---+-------------+-----------------------------------------+
       | 5 | &lt;Σ&gt;         | GREEK CAPITAL LETTER SIGMA (U+03A3)     |
       +---+-------------+-----------------------------------------+
       | 6 | &lt;σ&gt;         | GREEK SMALL LETTER SIGMA (U+03C3)       |
       +---+-------------+-----------------------------------------+
       | 7 | &lt;ς&gt;         | GREEK SMALL LETTER FINAL SIGMA (U+03C2) |
       +---+-------------+-----------------------------------------+
       | 8 | &lt;♚&gt;         | BLACK CHESS KING (U+265A)               |
       +---+-------------+-----------------------------------------+
       | 9 | &lt;Richard Ⅳ&gt; | &lt;richard iv&gt;                            |
       |   | (U+2163)    |                                         |
       +---+-------------+-----------------------------------------+

                    Table 2: A Sample of Legal Nicknames

Author's Address

   Henrik Levkowetz
   Elf Tools AB
   Ollonstigen 8
   SE-18164 Lidingö
   Sweden

   Email: henrik@levkowetz.com

















Levkowetz                 Expires 17 April 2020                [Page 58]

</pre><br>
    <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.129d, available from
      <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a>
    </small></small></span>
  </div>


</body></html>